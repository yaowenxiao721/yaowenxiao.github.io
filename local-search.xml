<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Pointer-Analysis</title>
    <link href="/2024/03/07/Pointer-Analysis/"/>
    <url>/2024/03/07/Pointer-Analysis/</url>
    
    <content type="html"><![CDATA[<h1 id="Pointer-Analysis"><a href="#Pointer-Analysis" class="headerlink" title="Pointer Analysis"></a>Pointer Analysis</h1><h2 id="1-Introduction-to-Pointer-Analysis"><a href="#1-Introduction-to-Pointer-Analysis" class="headerlink" title="1 - Introduction to Pointer Analysis"></a>1 - Introduction to Pointer Analysis</h2><h3 id="Define"><a href="#Define" class="headerlink" title="Define"></a>Define</h3><ul><li>A fundamental static analysis: è®¡ç®—ä¸€ä¸ªæŒ‡é’ˆèƒ½æŒ‡å‘å“ªä¸ªå†…å­˜ä½ç½®ã€‚</li><li>For object-oriented programs (focus on Java): è®¡ç®—ä¸€ä¸ªä¸€ä¸ªæŒ‡é’ˆ(variableæˆ–field)æŒ‡å‘å“ªä¸ªå¯¹è±¡ã€‚</li><li>Regarded as a may-analysis: è®¡ç®—æŒ‡é’ˆæŒ‡å‘çš„è¿‡æ‹Ÿåˆçš„å¯¹è±¡é›†ï¼Œå³ä¸€ä¸ªæŒ‡é’ˆå¯èƒ½æŒ‡å‘å“ªäº›å¯¹è±¡</li></ul><h3 id="Pointer-Analysis-and-Alias-Analysis"><a href="#Pointer-Analysis-and-Alias-Analysis" class="headerlink" title="Pointer Analysis and Alias Analysis"></a>Pointer Analysis and Alias Analysis</h3><p><strong>Two closely related but different concepts</strong><br>e.g.<br>If two pointers, say p and q, refer to the same object, then p and q are aliases.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">C</span>();<br>q = p;<br>x = <span class="hljs-keyword">new</span> <span class="hljs-title class_">X</span>();<br>y = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Y</span>();<br></code></pre></td></tr></table></figure><blockquote><p>p and q are aliases x and y are not aliases.</p></blockquote><h3 id="Applications-of-Pointer-Analysis"><a href="#Applications-of-Pointer-Analysis" class="headerlink" title="Applications of Pointer Analysis"></a>Applications of Pointer Analysis</h3><ul><li>Call graph, aliases, â€¦</li><li>Virtual call inlining, â€¦</li><li>Null pointer detection, â€¦</li><li>Information flow analysis, â€¦</li></ul><h2 id="2-Key-Factors-of-Pointer-Analysis"><a href="#2-Key-Factors-of-Pointer-Analysis" class="headerlink" title="2 - Key Factors of Pointer Analysis"></a>2 - Key Factors of Pointer Analysis</h2><p>Pointer analysis is a complex system, multiple factors affect the precision and efficiency of the system.</p><ul><li>Heap abstraction</li><li>Context sensitivity</li><li>Flow sensitivity</li><li>Analysis scope</li></ul><h3 id="Heap-Abstraction"><a href="#Heap-Abstraction" class="headerlink" title="Heap Abstraction"></a>Heap Abstraction</h3><img src="/images/Pointer-Analysis/Heap-Abstration.png" width=500><p><strong>Allocation-Site Abstraction</strong><br>e.g.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; ++i) &#123;<br>    a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">A</span>();<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å¯¹äºè¿™æ ·çš„ä¸€ä¸ª for å¾ªç¯åˆ›å»ºå¯¹è±¡ï¼Œä½¿ç”¨ Allocation-Site åˆ†æçš„è¯ï¼Œå°±åªæŠ½è±¡ä¸ºä¸€ä¸ªå¯¹è±¡ã€‚</p></blockquote><h3 id="Context-Sensitivity-Context-insensitive"><a href="#Context-Sensitivity-Context-insensitive" class="headerlink" title="Context Sensitivity &amp; Context-insensitive"></a>Context Sensitivity &amp; Context-insensitive</h3><img src="/images/Pointer-Analysis/Context-Sensitivity.png" width=500><blockquote><p>å·¦ä¾§æ˜¯ä¸Šä¸‹æ–‡æ•æ„Ÿçš„åšæ³•ï¼Œå¯¹äºæ¯æ¬¡è°ƒç”¨æ–¹æ³•çš„æ—¶å€™éƒ½ä¼šåˆ†åˆ«è®°å½•é‚£æ¬¡æ–¹æ³•çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè€Œå³ä¾§æ˜¯ä¸æ•æ„Ÿçš„åšæ³•ï¼Œä¼šå°†ä¸åŒçš„è°ƒç”¨åˆå¹¶ï¼Œæ¯ä¸ªæ–¹æ³•ä¸è®ºè°ƒç”¨å¤šå°‘æ¬¡éƒ½åªä¼šåˆ†æä¸€æ¬¡ï¼ŒContext-sensitive å¯¹äºæŒ‡é’ˆåˆ†æçš„ç²¾åº¦æœ‰éå¸¸æ˜¾è‘—çš„ä½œç”¨ã€‚</p></blockquote><h3 id="Flow-Sensitivity-Flow-Insensitive"><a href="#Flow-Sensitivity-Flow-Insensitive" class="headerlink" title="Flow Sensitivity &amp; Flow Insensitive"></a>Flow Sensitivity &amp; Flow Insensitive</h3><p>flow -&gt; control-flow</p><img src="/images/Pointer-Analysis/Flow-Sensitivity.png" width=500><blockquote><p>Flow-insensitive å°±æ˜¯å¿½ç•¥äº†æ§åˆ¶æµæ¶ˆæ¯ï¼Œè¡¨å±‚æ¥çœ‹çš„è¯å°±æ˜¯å»å¹¶é›†æ¶µç›–æ‰€æœ‰æƒ…å†µã€‚<br>å¹¶æ²¡æœ‰è¯æ®è¡¨æ˜ Flow-sensitive çš„æ•ˆæœä¼šæ¯” Flow-insensitive çš„æ•ˆæœå¥½ï¼Œæ‰€ä»¥ä¸»æµçš„ä¸€äº›åˆ†æå™¨æ˜¯ç”¨çš„ Flow-insensitiveã€‚</p></blockquote><h3 id="Analysis-Scope-Whole-pragram-Demand-driven"><a href="#Analysis-Scope-Whole-pragram-Demand-driven" class="headerlink" title="Analysis Scope - Whole-pragram &amp; Demand-driven"></a>Analysis Scope - Whole-pragram &amp; Demand-driven</h3><img src="/images/Pointer-Analysis/Analysis-Scope.png" width=500><blockquote><p>æ‰€è°“éœ€æ±‚é©±åŠ¨çš„åˆ†æï¼Œä¾‹å¦‚è¦åˆ†æç¬¬äº”è¡Œçš„æŒ‡é’ˆæŒ‡å‘ä½•å¤„ï¼Œåªéœ€è¦åˆ†æç¬¬å››è¡Œå³å¯ã€‚</p></blockquote><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><table><thead><tr><th align="left">Factor</th><th align="left">Problem</th><th align="left">Choice</th></tr></thead><tbody><tr><td align="left">Heap abstraction</td><td align="left">How to model heap memory?</td><td align="left">Allocation-site</td></tr><tr><td align="left">Context sensitivity</td><td align="left">How to model calling contexts?</td><td align="left">Context-sensitive &amp; Context-insensitive</td></tr><tr><td align="left">Flow sensitivity</td><td align="left">How to model control flow?</td><td align="left">flow-insensitive</td></tr><tr><td align="left">Analysis scope</td><td align="left">which parts of program should be analyzed?</td><td align="left">whole-program</td></tr></tbody></table><h2 id="3-Concerned-Statements"><a href="#3-Concerned-Statements" class="headerlink" title="3 - Concerned Statements"></a>3 - Concerned Statements</h2><p>Pointer analysis only focus on pointer-affecting statements.</p><p>Pointer in Java</p><ul><li><strong>Local variable: x</strong></li><li>Static field: C.f (Sometimes referred as global variable)</li><li><strong>Instance field: x.f</strong></li><li>Array element: array[i] (Ignore indexes)</li></ul><p>Real code</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[<span class="hljs-number">10</span>];<br>array[<span class="hljs-number">0</span>] = <span class="hljs-string">&quot;x&quot;</span>;<br>array[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;y&quot;</span>;<br>s = array[<span class="hljs-number">0</span>];<br></code></pre></td></tr></table></figure><p>Perspective of pointer analysis</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[];<br>array.arr = <span class="hljs-string">&quot;x&quot;</span>;<br>array.arr = <span class="hljs-string">&quot;y&quot;</span>;<br>s = array.arr;<br></code></pre></td></tr></table></figure><h3 id="Pointer-Affecting-Statements"><a href="#Pointer-Affecting-Statements" class="headerlink" title="Pointer-Affecting Statements"></a>Pointer-Affecting Statements</h3><ul><li>New: x &#x3D; new T()</li><li>Assign: x &#x3D; y</li><li>Store: x.f &#x3D; y</li><li>Load: y &#x3D; x.f<blockquote><p>First focus on these statements</p></blockquote></li><li>Call: r &#x3D; x.k(a, â€¦)</li></ul><h1 id="Pointer-Analysis-Foundations-I"><a href="#Pointer-Analysis-Foundations-I" class="headerlink" title="Pointer Analysis Foundations (I)"></a>Pointer Analysis Foundations (I)</h1><h2 id="1-Pointer-Analysis-Rules"><a href="#1-Pointer-Analysis-Rules" class="headerlink" title="1 - Pointer Analysis: Rules"></a>1 - Pointer Analysis: Rules</h2><img src="/images/Pointer-Analysis/domains-notations.png" width=500><blockquote><p>Points-to relations: æŒ‡å‘å…³ç³»</p></blockquote><img src="/images/Pointer-Analysis/Rules.png" width=500><ol><li>Newè¯­å¥è´Ÿè´£æ–°å»ºå¯¹è±¡å®ä¾‹ï¼Œç”±äºç­‰å·å³è¾¹æ²¡æœ‰å¯¹åº”æŒ‡é’ˆåŸŸï¼Œæ‰€ä»¥å°±æ²¡æœ‰å‰ææ¡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥å¾—åˆ°ç­‰å·å·¦ä¾§çš„æŒ‡é’ˆå¯¹è±¡xå¯¹åº”çš„æŒ‡é’ˆé›†ä¸ºoiï¼Œè¡¨ç¤ºä¸ºğ‘œğ‘– âˆˆ ğ‘ğ‘¡(ğ‘¥)ã€‚<br>æ­¤å¤„çš„ğ‘œğ‘– âˆˆ ğ‘ğ‘¡(ğ‘¥)ä»£è¡¨ğ‘œğ‘– æ˜¯ ğ‘ğ‘¡(ğ‘¥)çš„å­é›†ï¼Œå³ğ‘œğ‘– æ˜¯xçš„æŒ‡é’ˆé›†çš„å­é›†ï¼Œä¹Ÿå¯ä»¥ç®€å•ç†è§£ä¸ºxæŒ‡å‘oiã€‚</li><li>assignè¯­å¥å³å°†ç­‰å·å³ä¾§çš„æŒ‡é’ˆåŸŸä¼ é€’ç»™ç­‰å·å·¦ä¾§</li><li>storeè¯­å¥æ˜¯å°†æŒ‡é’ˆå­˜å‚¨åˆ°å¯¹è±¡çš„åŸŸä¸­çš„æ“ä½œï¼Œå°†ç­‰å·å³ä¾§æŒ‡é’ˆåŸŸä¼ é€’ç»™å·¦ä¾§å¯¹è±¡çš„åŸŸçš„æŒ‡é’ˆé›†ä¸­ã€‚</li><li>loadè¯­å¥ç±»ä¼¼äºstoreè¯­å¥ï¼Œå°†ç­‰å·å³ä¾§çš„å¯¹è±¡çš„åŸŸçš„æŒ‡é’ˆé›†çš„æ•°æ®åŠ è½½åˆ°ç­‰å·å·¦ä¾§çš„yä¸­ã€‚</li></ol><h2 id="2-How-to-Implement-Pointer-Analysis"><a href="#2-How-to-Implement-Pointer-Analysis" class="headerlink" title="2 - How to Implement Pointer Analysis"></a>2 - How to Implement Pointer Analysis</h2><h2 id="3-Pointer-Analysis-Algorithms"><a href="#3-Pointer-Analysis-Algorithms" class="headerlink" title="3 - Pointer Analysis: Algorithms"></a>3 - Pointer Analysis: Algorithms</h2><h2 id="4-Pointer-Analysis-with-Method-Calls"><a href="#4-Pointer-Analysis-with-Method-Calls" class="headerlink" title="4 - Pointer Analysis with Method Calls"></a>4 - Pointer Analysis with Method Calls</h2>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Interprocedural-Analysis</title>
    <link href="/2024/03/07/Interprocedural-Analysis/"/>
    <url>/2024/03/07/Interprocedural-Analysis/</url>
    
    <content type="html"><![CDATA[<h1 id="1-Call-Graph-Construction-CHA-ç¨‹åºè°ƒç”¨å›¾"><a href="#1-Call-Graph-Construction-CHA-ç¨‹åºè°ƒç”¨å›¾" class="headerlink" title="1 - Call Graph Construction (CHA) ç¨‹åºè°ƒç”¨å›¾"></a>1 - Call Graph Construction (CHA) ç¨‹åºè°ƒç”¨å›¾</h1><h2 id="Define"><a href="#Define" class="headerlink" title="Define"></a>Define</h2><p>A representation of calling relationships in the program</p><ul><li>Essentially, a call graph is a set of call edges from call-sites to their target methods (calles)</li></ul><p><strong>OO è¯­è¨€çš„è°ƒç”¨å›¾çš„æ„é€ </strong></p><ul><li>Class hierarchy analysis (CHA) : æ•ˆç‡é«˜</li><li>Pointer analysis (k-CFA) : ç²¾ç¡®åº¦é«˜</li></ul><h2 id="Method-Calls-Invocations-in-Java"><a href="#Method-Calls-Invocations-in-Java" class="headerlink" title="Method Calls (Invocations) in Java"></a>Method Calls (Invocations) in Java</h2><img src="/images/Interprocedural-Analysis/Method-Call.png" width=500><blockquote><p>JAVA ä¸­çš„æ–¹æ³•è°ƒç”¨å…±æœ‰äº”ç§ï¼Œå…¶ä¸­ invokedynamic åœ¨æ­¤ä¸åšè€ƒè™‘ï¼Œç”±äº Virtual Call çš„ç›®æ ‡æ–¹æ³•æ˜¯è¿è¡Œæ—¶åŠ¨æ€ç¡®å®šçš„ï¼ˆå¤šæ€ï¼‰ï¼Œæ•…æ„é€ è°ƒç”¨å›¾çš„éš¾ç‚¹å’Œå…³é”®åœ¨äºå¦‚ä½•å¤„ç† Virtual Call</p></blockquote><p><strong>Method Dispatch of Virtual Calls</strong></p><p>During run-time, a virtual call is resolved based on</p><ol><li>type of the receiver object (pointed by 0): c</li><li>method signature at the call site: m</li></ol><p>We define function Dispatch(c,m) to simulate the procedure of run-time method dispatch</p><img src="/images/Interprocedural-Analysis/dispatch.png" width=500><blockquote><p>Virtual Call çš„æ–¹æ³•åˆ†æ´¾ä¾æ® receiver object çš„ç±»å‹ c å’Œæ–¹æ³•çš„ç­¾å m ï¼ˆå½¢å¦‚ *&lt;ClassTypeï¼šReturnType MehtodNameï¼ˆParameterTypesï¼‰&gt;*ï¼‰ï¼Œå®šä¹‰å‡½æ•° Dispatch(c, m) å»æ¨¡æ‹Ÿè¿è¡Œæ—¶æ–¹æ³•åˆ†æ´¾ï¼Œæ€»çš„æ€è·¯æ˜¯ä¼˜å…ˆåœ¨å­ç±»ä¸­åŒ¹é…ï¼ŒåŒ¹é…ä¸åˆ°åˆ™é€’å½’åœ°åˆ°çˆ¶ç±»ä¸­åŒ¹é…</p></blockquote><h2 id="Class-Hierarchy-Analysis-CHA"><a href="#Class-Hierarchy-Analysis-CHA" class="headerlink" title="Class Hierarchy Analysis* (CHA)"></a>Class Hierarchy Analysis* (CHA)</h2><ul><li>Require the class hierarchy information (inheritance structure) of the whole program.</li><li>Resolve a virtual call based on the declared type of receiver variable of the call site.</li><li>Assume the receiver variable a may point to objects of class A or all subclassses of A.</li><li>Resolve target methods by looking up the class hierarchy of class A.</li></ul><p><strong>Call Resolution of CHA</strong></p><img src="/images/Interprocedural-Analysis/Call-Solution-of-CHA.png" width=500><ul><li><p>static call</p><blockquote><p>static callï¼Œå¯ä»¥ç®€å•ç¿»è¯‘ä¸ºé™æ€è°ƒç”¨ï¼Œä¸»è¦ç”¨äºé™æ€è°ƒç”¨æ–¹æ³•ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œç›´æ¥ç”¨ç±»Cè°ƒç”¨æ–¹æ³•è€Œä¸éœ€è¦å®šä¹‰å¯¹è±¡cï¼Œå› æ­¤å¾ˆæ˜æ˜¾è°ƒç”¨çš„å°±æ˜¯å½“å‰ç±»çš„æ–¹æ³•ï¼Œæ‰€ä»¥ç›´æ¥åŠ åˆ°é›†åˆTä¸­ã€‚</p></blockquote></li><li><p>special call</p><blockquote><p>special callï¼Œç‰¹æ®Šè°ƒç”¨ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼Œè¿™æ˜¯ç¬¬ä¸€ç§ä½¿ç”¨ super ç±»çš„è°ƒç”¨æ–¹æ³•é‚£ä¹ˆè¿™ä¸ª foo() è™½ç„¶åœ¨å½“å‰ç±»æœ‰å®šä¹‰ï¼Œä½†æ˜¯å®é™…ä½¿ç”¨çš„æ˜¯çˆ¶ç±»çš„ foo() ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ Dispatch å‡½æ•°ï¼Œå…¶ä¸­çš„ foo() çš„ç­¾å m ç”±ç¼–è¯‘å™¨è¿”å›ä¿¡æ¯å¯ä»¥çŸ¥é“æ˜¯ B çš„ï¼Œé‚£ä¹ˆè·å– foo() è¿”å›å€¼çš„ c ä¹ŸæŒ‡å‘ Bï¼Œä¹Ÿå°±ç›¸å½“äºåœ¨çˆ¶ç±»ä¸­å¯»æ‰¾äº†ã€‚</p></blockquote></li></ul><blockquote><p>special call ä¸­çš„å¦å¤–ä¸¤ç§æƒ…å†µï¼Œæ„é€ å‡½æ•°å’Œç§æœ‰å‡½æ•°ï¼Œå…¶ä¸­æ„é€ å‡½æ•°æš‚æ—¶å¯ä»¥å¿½ç•¥ï¼Œæ‰€ä»¥å…ˆçœ‹ç§æœ‰å‡½æ•°ï¼Œæ­¤æ—¶ç¼–è¯‘å™¨è¿”å›çš„ä¿¡æ¯èƒ½ç®—æ³•çŸ¥é“æ­¤æ—¶ m æŒ‡å‘çš„ä»æ˜¯ Cï¼Œé‚£ä¹ˆ Dispatch(cm,m) å¾—åˆ°çš„ä»ç„¶æ˜¯è¿™ä¸ªç§æœ‰æ–¹æ³• C.bar()ã€‚</p></blockquote><ul><li>virtual call<blockquote><p>virtual callï¼Œè¿™ä¹Ÿæ˜¯ CHA åŒºåˆ«äºå…¶ä»–ç®—æ³•çš„ä¸»è¦ä¹‹å¤„ã€‚é™¤äº†ä»¥ä¸Šæåˆ°çš„å››ç§æƒ…å†µä»¥å¤–ï¼Œå…¶ä»–æƒ…å†µéƒ½æ˜¯ç”¨ virtual call æ¥å¤„ç†ï¼Œå› ä¸ºé™¤äº† super ä¼šå°† m çš„ç±»ç±»å‹æŒ‡å®šä¸ºçˆ¶ç±»ä»¥å¤–ï¼Œåˆ«çš„éƒ½æ˜¯å½“å‰ç±»ï¼Œæ‰€ä»¥è¯¥ç®—æ³•ä¼šå¯¹æ­¤æ–¹æ³•åšä¸€ä¸ª Dispatch(c,m) å¹¶å°† c çš„æ‰€æœ‰å­é›†ä»¥åŠå­é›†çš„å­é›†å…¨éƒ½åšä¸€æ¬¡ Dispatch(câ€™,m)ã€‚ç›´è§‚æ¥çœ‹ï¼Œå¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯å¯¹æœ¬èº«åšä¸€æ¬¡ Dispatch ï¼Œçœ‹çœ‹å½“å‰ç±»ä¸­æ˜¯å¦æœ‰ foo() ï¼Œæ²¡æœ‰çš„è¯å°±åˆ°çˆ¶ç±»ä¸­é€’å½’åœ°æ‰¾ï¼›ç¬¬äºŒæ­¥æ˜¯åœ¨å½“å‰ç±»åœ°æ‰€æœ‰å­é›†ä¸­æ‰¾åˆ°æ‰€æœ‰çš„ foo() ï¼Œç„¶åå°†è¿™äº› foo åŒç¬¬ä¸€æ­¥æ‰¾åˆ°çš„ foo å…¨éƒ½åŠ å…¥ T ä¸­ã€‚</p></blockquote></li></ul><p><em>example</em></p><img src="/images/Interprocedural-Analysis/CHA-Example.png" width=500><p>Features of CHA</p><ul><li>Advantage: fast</li><li>Disadvantage: imprecise</li></ul><h2 id="Call-Graph-Construction"><a href="#Call-Graph-Construction" class="headerlink" title="Call Graph Construction"></a>Call Graph Construction</h2><p><strong>Call Graph Construction: Algorithm</strong></p><img src="/images/Interprocedural-Analysis/algorithm.png" width=500><ul><li>WL: Work list, containing the methods to be processed</li><li>CG: Call graph, aset of call edges</li><li>RM: A set of reachable methods</li></ul><h2 id="Interprocedural-Control-Flow-Graph"><a href="#Interprocedural-Control-Flow-Graph" class="headerlink" title="Interprocedural Control-Flow Graph"></a>Interprocedural Control-Flow Graph</h2><p><strong>CFG vs. ICFG</strong></p><ul><li>CFG represents structure of an individual method.</li><li>ICFG represents structure of the whole program.</li><li>An ICFG of a program consists of CFGs of the methods in the program, <em>plus two kinds of additional edges</em>:<blockquote><ul><li><strong>Call edges</strong>: from call sites to the entry nodes of their callees.</li><li><strong>Return edges</strong>: from return statements of the callees to the statements following their call sites.</li></ul></blockquote></li></ul><img src="/images/Interprocedural-Analysis/CFG-ICFG.png" width=300><h2 id="Interprocedural-Data-Flow-Analysis"><a href="#Interprocedural-Data-Flow-Analysis" class="headerlink" title="Interprocedural Data-Flow Analysis"></a>Interprocedural Data-Flow Analysis</h2><img src="/images/Interprocedural-Analysis/Iterprocedural-Analysis.png" width=500><ul><li>Call edge transfer: pass argument values</li><li>Return edge transfer: pass return values</li><li>Node transfer: same as intra-procedural constant propagation, plus that: for each call node, kill data-flow value for the LHS variable. Its value will flow to return site along the return edges.<blockquote><p>è°ƒç”¨è¾¹ä¼ é€’å‡½æ•°ï¼Œç”¨äºä¼ é€’å‚æ•°å€¼<br>è¿”å›è¾¹ä¼ é€’å‡½æ•°ï¼Œç”¨äºä¼ é€’è¿”å›å€¼<br>Node transferï¼šä¸å‰é¢æ–‡ç« æåˆ°çš„ä¼ é€’å‡½æ•°åŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ªæ€§è´¨ï¼Œå¯¹äºæ¯æ¬¡è°ƒç”¨(ä¾‹å¦‚b&#x3D;foo(a))ä¼šå°†ç­‰å¼å·¦ä¾§çš„æ•°å€¼killæ‰ï¼Œç„¶ååœ¨ä¸‹ä¸€æ­¥ä¸­æœ‰è¿”å›è¾¹ä¼ é€’å‡½æ•°é‡æ–°èµ‹å€¼ã€‚è¿™ä¸ªæ“ä½œå¯ä»¥åœ¨è¿”å›å€¼ä¸åŸå€¼ä¸åŒæ—¶é˜²æ­¢æ•°æ®å†²çªã€‚</p></blockquote></li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>The-Logic-Of-OpenStack</title>
    <link href="/2024/03/06/The-Logic-Of-OpenStack/"/>
    <url>/2024/03/06/The-Logic-Of-OpenStack/</url>
    
    <content type="html"><![CDATA[<h1 id="OpenStack-RPC-å¤§è‡´æµç¨‹"><a href="#OpenStack-RPC-å¤§è‡´æµç¨‹" class="headerlink" title="OpenStack RPC å¤§è‡´æµç¨‹"></a>OpenStack RPC å¤§è‡´æµç¨‹</h1><p>RPC Client -&gt; AMQP(æ¶ˆæ¯é€šä¿¡ä»‹è´¨) -&gt; RPC Server</p><p>RPC Client</p><ul><li>1 - cctxt&#x3D;<strong>self.client</strong>.prepare(â€¦) - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py</li><li>2 - cctxt.call()&#x2F;cctxt.cast() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py</li></ul><p>RPC Server</p><ul><li>3 - <strong>get_rpc_server</strong>() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;server.py</li></ul><h2 id="AMQP"><a href="#AMQP" class="headerlink" title="AMQP"></a>AMQP</h2><h1 id="OpenStack-RPC-å…·ä½“å®ç°è¿‡ç¨‹ã€å®ç°å‡½æ•°åˆ†æ"><a href="#OpenStack-RPC-å…·ä½“å®ç°è¿‡ç¨‹ã€å®ç°å‡½æ•°åˆ†æ" class="headerlink" title="OpenStack RPC å…·ä½“å®ç°è¿‡ç¨‹ã€å®ç°å‡½æ•°åˆ†æ"></a>OpenStack RPC å…·ä½“å®ç°è¿‡ç¨‹ã€å®ç°å‡½æ•°åˆ†æ</h1><p>OpenStack ä¸­å®šä¹‰äº†ä¸¤ç§ RPC è°ƒç”¨æ¥å£ rpc.callã€rpc.cast</p><blockquote><ul><li>rpc.call æ–¹å¼æ˜¯æŒ‡ request&#x2F;responseï¼ˆè¯·æ±‚&#x2F;å“åº”ï¼‰æ¨¡å¼ï¼Œå³å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚åï¼Œç»§ç»­ç­‰å¾…æœåŠ¡å™¨ç«¯çš„å“åº”ç»“æœï¼Œå¾…å“åº”ç»“æœåˆ°è¾¾åï¼Œæ‰ç»“æŸæ•´ä¸ªè¿‡ç¨‹ã€‚</li><li>rpc.cast æ–¹å¼æ˜¯æŒ‡å®¢æˆ·ç«¯å‘é€RPCè°ƒç”¨è¯·æ±‚åï¼Œä¸ç­‰å¾…æœåŠ¡å™¨ç«¯çš„å“åº”ç»“æœã€‚</li></ul></blockquote><p>ä¸Šå±‚å®ç°å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># prepare()</span><br>cctxt=self.client.prepare(...)<br><span class="hljs-comment"># call() or cast()</span><br>cctxt.cast(ctxt, <span class="hljs-string">&#x27;method&#x27;</span>, **kw) /<br>cctxt.call(ctxt, <span class="hljs-string">&#x27;method&#x27;</span>, **kw)<br></code></pre></td></tr></table></figure><h2 id="1-cctxt-self-client-prepare-â€¦-oslo-messaging-oslo-messaging-rpc-client-py"><a href="#1-cctxt-self-client-prepare-â€¦-oslo-messaging-oslo-messaging-rpc-client-py" class="headerlink" title="1 - cctxt&#x3D;self.client.prepare(â€¦) - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py"></a>1 - cctxt&#x3D;self.client.prepare(â€¦) - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py</h2><h3 id="prepareæ–¹æ³•"><a href="#prepareæ–¹æ³•" class="headerlink" title="prepareæ–¹æ³•"></a>prepareæ–¹æ³•</h3><p>prepareæ–¹æ³•æ€»æ˜¯å‡ºç°åœ¨call()&#x2F;cast()æ–¹æ³•ä¹‹å‰ï¼Œå®Œæˆrpcè°ƒç”¨å‰æ¶ˆæ¯çš„å‡†å¤‡å·¥ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">prepare</span>(<span class="hljs-params">self, exchange=_marker, topic=_marker, namespace=_marker,</span><br><span class="hljs-params">            version=_marker, server=_marker, fanout=_marker,</span><br><span class="hljs-params">            timeout=_marker, version_cap=_marker, retry=_marker,</span><br><span class="hljs-params">            call_monitor_timeout=_marker</span>):<br>    <span class="hljs-keyword">return</span> _CallContext._prepare(self,<br>                                 exchange, topic, namespace,<br>                                 version, server, fanout,<br>                                 timeout, version_cap, retry,<br>                                 call_monitor_timeout)<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ–¹æ³•ä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹:</p><ul><li>ä»è°ƒç”¨å‚æ•° (topicã€serverç­‰) å’Œå®¢æˆ·ç«¯é…ç½®ä¸­æ„å»ºä¸€ä¸ª oslo_messaging.Target å¯¹è±¡,ç”¨äºè¡¨ç¤º RPC è°ƒç”¨çš„ç›®æ ‡ä¸»é¢˜ã€æœåŠ¡å™¨ç­‰ä¿¡æ¯ã€‚</li><li>è·å– Transport ä½¿ç”¨çš„ Serializer å¯¹è±¡,ç”¨äºåºåˆ—åŒ–&#x2F;ååºåˆ—åŒ–æ¶ˆæ¯ã€‚</li><li>åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ª_CallContextå¯¹è±¡,å®ƒå°è£…äº† Transportã€Target å’Œ Serializer ç­‰ä¿¡æ¯,ä½œä¸ºåç»­ RPC è°ƒç”¨çš„ä¸Šä¸‹æ–‡ã€‚</li></ul></blockquote><p>_CallContextå¯¹è±¡å®šä¹‰åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­,å®ƒæä¾›äº† callã€cast ç­‰æ–¹æ³•,ç”¨äºçœŸæ­£å‘èµ·åŒæ­¥æˆ–å¼‚æ­¥çš„RPCè°ƒç”¨ã€‚<br>æ‰€ä»¥ prepare æ–¹æ³•çš„ä½œç”¨æ˜¯å‡†å¤‡ RPC è°ƒç”¨æ‰€éœ€çš„ä¸Šä¸‹æ–‡,ä¸ºåç»­çš„ call æˆ– cast è°ƒç”¨åšå¥½åŸºç¡€å·¥ä½œã€‚åœ¨ä»£ç  cctxt &#x3D; self.client.prepare(â€¦) ä¸­,è¿”å›çš„ cctxt å°±æ˜¯ä¸€ä¸ª _CallContext å®ä¾‹,åŒ…å«äº†è°ƒç”¨ç›®æ ‡ã€åºåˆ—åŒ–å™¨ç­‰é‡è¦ä¿¡æ¯ã€‚</p><h3 id="è°ƒç”¨prepareçš„å¯¹è±¡self-client"><a href="#è°ƒç”¨prepareçš„å¯¹è±¡self-client" class="headerlink" title="è°ƒç”¨prepareçš„å¯¹è±¡self.client"></a>è°ƒç”¨prepareçš„å¯¹è±¡self.client</h3><p>eg.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-built_in">super</span>(SchedulerAPI, self).__init__()<br>    target = messaging.Target(topic=RPC_TOPIC, version=<span class="hljs-string">&#x27;4.0&#x27;</span>)<br>    version_cap = self.VERSION_ALIASES.get(CONF.upgrade_levels.scheduler,<br>                                           CONF.upgrade_levels.scheduler)<br>    serializer = objects_base.NovaObjectSerializer()<br>    self.client = rpc.get_client(target, version_cap=version_cap,<br>                                 serializer=serializer)<br></code></pre></td></tr></table></figure><p>å…³æ³¨ä¸¤æ¡è¯­å¥</p><ul><li>target &#x3D; messaging.Target(topic&#x3D;RPC_TOPIC, version&#x3D;â€™4.0â€™)</li><li>self.client &#x3D; rpc.get_client(target, version_cap&#x3D;version_cap,<br>                               serializer&#x3D;serializer)</li></ul><p><strong>Target</strong></p><p>Target å¯¹è±¡ä»£è¡¨ä¸€ä¸ªè°ƒç”¨éœ€è¦åŒ¹é…çš„ç›®æ ‡ã€‚RPC client ç«¯éœ€è¦æŒ‡å®š Target æ¥è¿›è¡Œ RPC è°ƒç”¨ï¼ŒRPC server ç«¯ä¹Ÿè¦æŒ‡å®š Target æ¥è¯´æ˜æ¥æ”¶å“ªäº› RPC è°ƒç”¨ã€‚Target åœ¨åº•å±‚è¢«ç”¨æ¥å†³å®š RPC server éœ€è¦åˆ›å»ºå“ªäº›é˜Ÿåˆ—ï¼Œä½¿ç”¨å“ªäº› routing key æ¥ç»‘å®šåˆ° exchange ä¸Šï¼Œä»¥åŠ RPC client å‘é€æ¶ˆæ¯çš„ <em>routing key</em>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Target</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, exchange=<span class="hljs-literal">None</span>, topic=<span class="hljs-literal">None</span>, namespace=<span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                 version=<span class="hljs-literal">None</span>, server=<span class="hljs-literal">None</span>, fanout=<span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                 legacy_namespaces=<span class="hljs-literal">None</span></span>):<br>        self.exchange = exchange<br>        self.topic = topic<br>        self.namespace = namespace<br>        self.version = version<br>        self.server = server<br>        self.fanout = fanout<br>        self.accepted_namespaces = [namespace] + (legacy_namespaces <span class="hljs-keyword">or</span> [])<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼šåœ¨ä»£ç  target &#x3D; messaging.Target(topic&#x3D;RPC_TOPIC, version&#x3D;â€™4.0â€™) ä¸­ï¼ŒæŒ‡å®šäº†æ¶ˆæ¯å‘å¾€çš„æœåŠ¡å™¨æ˜¯ç›‘å¬ â€˜RPC_TOPICâ€™ topic çš„ version&#x3D;â€™4.0â€™ æœåŠ¡å™¨ã€‚</p><p><strong>rpc.get_client()</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_client</span>(<span class="hljs-params">target, version_cap=<span class="hljs-literal">None</span>, serializer=<span class="hljs-literal">None</span>, transport=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Get a client for rpc communication.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param target: The target to call.</span><br><span class="hljs-string">        (target := node-name queues first, then server name)</span><br><span class="hljs-string">    :param version_cap: A version cap object</span><br><span class="hljs-string">    :param serializer: Optional, otherwise RPCTransport&#x27;s &#x27;allowed_rpc_message_serializers&#x27;</span><br><span class="hljs-string">         config option is used.</span><br><span class="hljs-string">    :param transport: Optional transport for transport driver</span><br><span class="hljs-string">    :returns: A client for issuing RPC calls.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> transport <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        transport = _get_rpc_transport()<br><br>    <span class="hljs-keyword">if</span> serializer <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        serializer = transport._serializer<br><br>    <span class="hljs-keyword">return</span> RPCClient(transport, target, name=<span class="hljs-literal">None</span>,<br>                     version_cap=version_cap,<br>                     serializer=serializer)<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•æ¥å—ä»¥ä¸‹å‡ ä¸ªå…³é”®å‚æ•°:</p><ul><li>target: RPC è°ƒç”¨çš„ç›®æ ‡ä¿¡æ¯,é€šå¸¸æ˜¯ç›®æ ‡é˜Ÿåˆ—æˆ–æœåŠ¡å™¨åç§°ã€‚(ä¸Šé¢å·²è¯´æ˜)</li><li>version_cap: RPC æ¥å£çš„ç‰ˆæœ¬é™åˆ¶ã€‚</li><li>serializer: ç”¨äºåºåˆ—åŒ–æ¶ˆæ¯çš„åºåˆ—åŒ–å™¨ã€‚</li><li>transport: åº•å±‚çš„æ¶ˆæ¯é€šä¿¡ä»‹è´¨é©±åŠ¨,å¦‚ RabbitMQã€Kafka ç­‰ã€‚</li></ul><p><em>Transport</em></p><p>Transport å°±æ˜¯ RPC è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨çš„æ¶ˆæ¯é€šä¿¡ä»‹è´¨ï¼Œå¦‚æœä½¿ç”¨ rabbitmqï¼Œé‚£ä¹ˆéœ€è¦æŒ‡å®š rabbitmq æœåŠ¡å™¨çš„è¿æ¥åœ°å€ï¼Œä»¥åŠç”¨æˆ·åï¼Œå¯†ç ç­‰å‚æ•°ã€‚RPC è°ƒç”¨çš„ client å’Œ server ç«¯éƒ½éœ€è¦æŒ‡å®šä¸€ä¸ª transport ä½œä¸ºæ¶ˆæ¯çš„ broker. oslo.messaging ä¸­é€šè¿‡ oslo_messaging.get_transport å‡½æ•°è¿”å›ä¸€ä¸ª transport å¯¹è±¡ã€‚</p><p>åº•å±‚çš„ä¸€äº›å®ç°åŸç†å¯¹åˆ†æ RPC ä½œç”¨ä¸å¤§ï¼Œæš‚ä¸”ä¸å»ç ”è¯»ã€‚</p><h2 id="2-cctxt-call-cctxt-cast-oslo-messaging-oslo-messaging-rpc-client-py"><a href="#2-cctxt-call-cctxt-cast-oslo-messaging-oslo-messaging-rpc-client-py" class="headerlink" title="2 - cctxt.call()&#x2F;cctxt.cast() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py"></a>2 - cctxt.call()&#x2F;cctxt.cast() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;client.py</h2><p><strong>ä»¥ call() ä¸ºä¾‹</strong></p><details>  <summary><mark><font color=darkred>Function call() Code Detail</font></mark></summary>  <pre><code class="hljs">      def call(self, ctxt, method, **kwargs):        """Invoke a method and wait for a reply. See RPCClient.call()."""        if self.target.fanout:            raise exceptions.InvalidTarget('A call cannot be used with fanout',                                           self.target)<pre><code class="hljs">    msg = self._make_message(ctxt, method, kwargs)    msg_ctxt = self.serializer.serialize_context(ctxt)    timeout = self.timeout    if self.timeout is None:        timeout = self.conf.rpc_response_timeout    cm_timeout = self.call_monitor_timeout    self._check_version_cap(msg.get(&#39;version&#39;))    with metrics.get_collector(self.conf, &quot;rpc_client&quot;,                               target=self.target, method=method,                               call_type=&quot;call&quot;) as metrics_collector:        try:            result = self.transport._send(                self.target, msg_ctxt, msg, wait_for_reply=True,                timeout=timeout, call_monitor_timeout=cm_timeout,                retry=self.retry, transport_options=self.transport_options)        except driver_base.TransportDriverError as ex:            self._metrics_api.rpc_client_exception_total(                self.target, method, &quot;call&quot;, ex.__class__.__name__)            raise ClientSendError(self.target, ex)        except Exception as ex:            if self.conf.oslo_messaging_metrics.metrics_enabled:                metrics_collector.rpc_client_exception_total(                    self.target, method, &quot;call&quot;, ex.__class__.__name__)            raise        return self.serializer.deserialize_entity(ctxt, result)</code></pre><p>  </code></pre></p></details><p><strong>å…³æ³¨ ctxt å‚æ•°</strong></p><p>ctxtå‚æ•°æ˜¯ä¸€ä¸ª<strong>oslo.context.RequestContext</strong>å®ä¾‹</p><blockquote><ul><li>åœ¨RPCè°ƒç”¨æ—¶,å®¢æˆ·ç«¯å°†RequestContextåºåˆ—åŒ–åˆ°æ¶ˆæ¯ä¸­,æœåŠ¡ç«¯ä»æ¶ˆæ¯ä¸­ååºåˆ—åŒ–å‡ºè¯¥å¯¹è±¡ã€‚è¿™æ ·,å„ä¸ªåˆ†å¸ƒå¼èŠ‚ç‚¹éƒ½å¯ä»¥è·å–è¯·æ±‚ä¸Šä¸‹æ–‡ä¿¡æ¯,ä¿è¯äº†è®¤è¯å’Œç­–ç•¥çš„ä¸€è‡´æ€§ã€‚</li><li>RequestContextåœ¨OpenStackä¸­ç”¨äºå­˜å‚¨å’Œä¼ é€’ä¸è¯·æ±‚ç›¸å…³çš„å„ç§æ ¸å¿ƒå…ƒæ•°æ®,æ˜¯å®ç°è®¤è¯ã€æˆæƒã€å®¡è®¡ç­‰åŠŸèƒ½çš„åŸºç¡€ã€‚</li></ul></blockquote><details>  <summary><mark><font color=darkred>Function RequestContext() Code Detail</font></mark></summary>  <pre><code class="hljs">      class RequestContext(object):<pre><code class="hljs">&quot;&quot;&quot;Helper class to represent useful information about a request context.Stores information about the security context under which the useraccesses the system, as well as additional request information.&quot;&quot;&quot;user_idt_format = &#39;&#123;user&#125; &#123;project_id&#125; &#123;domain&#125; &#123;user_domain&#125; &#123;p_domain&#125;&#39;# Can be overridden in subclasses to specify extra keys that should be# read when constructing a context using from_dict.FROM_DICT_EXTRA_KEYS: ty.List[str] = []@_renamed_kwarg(&#39;user&#39;, &#39;user_id&#39;)@_renamed_kwarg(&#39;domain&#39;, &#39;domain_id&#39;)@_renamed_kwarg(&#39;user_domain&#39;, &#39;user_domain_id&#39;)@_renamed_kwarg(&#39;project_domain&#39;, &#39;project_domain_id&#39;)def __init__(    self,    auth_token: ty.Optional[str] = None,    user_id: ty.Optional[str] = None,    project_id: ty.Optional[str] = None,    domain_id: ty.Optional[str] = None,    user_domain_id: ty.Optional[str] = None,    project_domain_id: ty.Optional[str] = None,    is_admin: bool = False,    read_only: bool = False,    show_deleted: bool = False,    request_id: ty.Optional[str] = None,    resource_uuid: ty.Optional[str] = None,    overwrite: bool = True,    roles: ty.Optional[ty.List[str]] = None,    user_name: ty.Optional[str] = None,    project_name: ty.Optional[str] = None,    domain_name: ty.Optional[str] = None,    user_domain_name: ty.Optional[str] = None,    project_domain_name: ty.Optional[str] = None,    is_admin_project: bool = True,    service_token: ty.Optional[str] = None,    service_user_id: ty.Optional[str] = None,    service_user_name: ty.Optional[str] = None,    service_user_domain_id: ty.Optional[str] = None,    service_user_domain_name: ty.Optional[str] = None,    service_project_id: ty.Optional[str] = None,    service_project_name: ty.Optional[str] = None,    service_project_domain_id: ty.Optional[str] = None,    service_project_domain_name: ty.Optional[str] = None,    service_roles: ty.Optional[ty.List[str]] = None,    global_request_id: ty.Optional[str] = None,    system_scope: ty.Optional[str] = None,):    &quot;&quot;&quot;Initialize the RequestContext    :param overwrite: Set to False to ensure that the greenthread local                      copy of the index is not overwritten.    :param is_admin_project: Whether the specified project is specified in                             the token as the admin project. Defaults to                             True for backwards compatibility.    :type is_admin_project: bool    :param system_scope: The system scope of a token. The value ``all``                         represents the entire deployment system. A service                         ID represents a specific service within the                         deployment system.    :type system_scope: string    &quot;&quot;&quot;    # setting to private variables to avoid triggering subclass properties    self._user_id = user_id    self._project_id = project_id    self._domain_id = domain_id    self._user_domain_id = user_domain_id    self._project_domain_id = project_domain_id    self.auth_token = auth_token    self.user_name = user_name    self.project_name = project_name    self.domain_name = domain_name    self.system_scope = system_scope    self.user_domain_name = user_domain_name    self.project_domain_name = project_domain_name    self.is_admin = is_admin    self.is_admin_project = is_admin_project    self.read_only = read_only    self.show_deleted = show_deleted    self.resource_uuid = resource_uuid    self.roles = roles or []    self.service_token = service_token    self.service_user_id = service_user_id    self.service_user_name = service_user_name    self.service_user_domain_id = service_user_domain_id    self.service_user_domain_name = service_user_domain_name    self.service_project_id = service_project_id    self.service_project_name = service_project_name    self.service_project_domain_id = service_project_domain_id    self.service_project_domain_name = service_project_domain_name    self.service_roles = service_roles or []    if not request_id:        request_id = generate_request_id()    self.request_id = request_id    self.global_request_id = global_request_id    if overwrite or not get_current():        self.update_store()# NOTE(jamielennox): To prevent circular lookups on subclasses that might# point user to user_id we make user/user_id  etc point# to the same private variable rather than each other.user = _moved_property(&#39;user_id&#39;, &#39;user&#39;, target=&#39;_user_id&#39;)domain = _moved_property(&#39;domain_id&#39;, &#39;domain&#39;, target=&#39;_domain_id&#39;)user_domain = _moved_property(    &#39;user_domain_id&#39;, &#39;user_domain&#39;, target=&#39;_user_domain_id&#39;)project_domain = _moved_property(    &#39;project_domain_id&#39;, &#39;project_domain&#39;, target=&#39;_project_domain_id&#39;)user_id = _moved_property(&#39;_user_id&#39;)project_id = _moved_property(&#39;_project_id&#39;)domain_id = _moved_property(&#39;_domain_id&#39;)user_domain_id = _moved_property(&#39;_user_domain_id&#39;)project_domain_id = _moved_property(&#39;_project_domain_id&#39;)</code></pre><p>  </code></pre></p></details><h2 id="3-get-rpc-server-oslo-messaging-oslo-messaging-rpc-server-py"><a href="#3-get-rpc-server-oslo-messaging-oslo-messaging-rpc-server-py" class="headerlink" title="3 - get_rpc_server() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;server.py"></a>3 - get_rpc_server() - oslo.messaging&#x2F;oslo_messaging&#x2F;rpc&#x2F;server.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_rpc_server</span>(<span class="hljs-params">transport, target, endpoints,</span><br><span class="hljs-params">                   executor=<span class="hljs-literal">None</span>, serializer=<span class="hljs-literal">None</span>, access_policy=<span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                   server_cls=RPCServer</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Construct an RPC server.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    :param transport: the messaging transport</span><br><span class="hljs-string">    :type transport: Transport</span><br><span class="hljs-string">    :param target: the exchange, topic and server to listen on</span><br><span class="hljs-string">    :type target: Target</span><br><span class="hljs-string">    :param endpoints: a list of endpoint objects</span><br><span class="hljs-string">    :type endpoints: list</span><br><span class="hljs-string">    :param executor: name of message executor - available values are</span><br><span class="hljs-string">                     &#x27;eventlet&#x27; and &#x27;threading&#x27;</span><br><span class="hljs-string">    :type executor: str</span><br><span class="hljs-string">    :param serializer: an optional entity serializer</span><br><span class="hljs-string">    :type serializer: Serializer</span><br><span class="hljs-string">    :param access_policy: an optional access policy.</span><br><span class="hljs-string">           Defaults to DefaultRPCAccessPolicy</span><br><span class="hljs-string">    :type access_policy: RPCAccessPolicyBase</span><br><span class="hljs-string">    :param server_cls: The server class to instantiate</span><br><span class="hljs-string">    :type server_cls: class</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    dispatcher = rpc_dispatcher.RPCDispatcher(endpoints, serializer,<br>                                              access_policy)<br>    <span class="hljs-keyword">return</span> server_cls(transport, target, dispatcher, executor)<br></code></pre></td></tr></table></figure><p><strong>Endpoints</strong></p><p>RPC Server é€šè¿‡ Endpointï¼Œå°†æ–¹æ³•æš´éœ²å‡ºå»ï¼Œä¾› Client ç«¯è¿›è¡Œè°ƒç”¨ã€‚ä¸€ä¸ª RPC Server å¯ä»¥æŒ‡å®šå¤šä¸ª Endpoint å¯¹è±¡ã€‚</p><p><strong>dispatcher</strong><br>RPCDispatcher è´Ÿè´£å°†æ¥æ”¶åˆ°çš„ RPC è¯·æ±‚åˆ†å‘åˆ°æ­£ç¡®çš„ç«¯ç‚¹ (Endpoint) ä¸Šæ‰§è¡Œ</p>]]></content>
    
    
    <categories>
      
      <category>OpenStack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>RPC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Openstack-RPC</title>
    <link href="/2024/03/04/Openstack-RPC/"/>
    <url>/2024/03/04/Openstack-RPC/</url>
    
    <content type="html"><![CDATA[<h1 id="Nova"><a href="#Nova" class="headerlink" title="Nova"></a>Nova</h1><h2 id="1-nova-compute-nova-è®¡ç®—æœåŠ¡"><a href="#1-nova-compute-nova-è®¡ç®—æœåŠ¡" class="headerlink" title="1 - nova-compute (nova è®¡ç®—æœåŠ¡)"></a>1 - nova-compute (nova è®¡ç®—æœåŠ¡)</h2><p>..&#x2F;stack\nova\nova\compute\rpcapi.py:455: rpc.get_client(target, version_cap, serializer)<br>..&#x2F;stack\nova\nova\compute\rpcapi.py:556: return rpc.get_client(target,</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">router</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Provides singleton access to nova.rpc.ClientRouter for this API</span><br><span class="hljs-string"></span><br><span class="hljs-string">    The ClientRouter is constructed and accessed as a singleton to avoid</span><br><span class="hljs-string">    querying all cells for a minimum nova-compute service version when</span><br><span class="hljs-string">    [upgrade_levels]/compute=auto and we have access to the API DB.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> _ROUTER<br>    <span class="hljs-keyword">if</span> _ROUTER <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">with</span> lockutils.lock(<span class="hljs-string">&#x27;compute-rpcapi-router&#x27;</span>):<br>            <span class="hljs-keyword">if</span> _ROUTER <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                target = messaging.Target(topic=RPC_TOPIC, version=<span class="hljs-string">&#x27;6.0&#x27;</span>)<br>                upgrade_level = CONF.upgrade_levels.compute<br>                <span class="hljs-keyword">if</span> upgrade_level == <span class="hljs-string">&#x27;auto&#x27;</span>:<br>                    version_cap = self._determine_version_cap(target)<br>                <span class="hljs-keyword">else</span>:<br>                    version_cap = self.VERSION_ALIASES.get(upgrade_level,<br>                                                           upgrade_level)<br>                serializer = objects_base.NovaObjectSerializer()<br><br>                <span class="hljs-comment"># NOTE(danms): We need to poke this path to register CONF</span><br>                <span class="hljs-comment"># options that we use in self.get_client()</span><br>                rpc.get_client(target, version_cap, serializer)<br><br>                default_client = self.get_client(target, version_cap,<br>                                                 serializer)<br>                _ROUTER = rpc.ClientRouter(default_client)<br>    <span class="hljs-keyword">return</span> _ROUTER<br></code></pre></td></tr></table></figure><h2 id="2-nova-conductor-novaæ•°æ®åº“æœåŠ¡ï¼Œæä¾›æ•°æ®åº“è®¿é—®"><a href="#2-nova-conductor-novaæ•°æ®åº“æœåŠ¡ï¼Œæä¾›æ•°æ®åº“è®¿é—®" class="headerlink" title="2 - nova-conductor (novaæ•°æ®åº“æœåŠ¡ï¼Œæä¾›æ•°æ®åº“è®¿é—®)"></a>2 - nova-conductor (novaæ•°æ®åº“æœåŠ¡ï¼Œæä¾›æ•°æ®åº“è®¿é—®)</h2><p>..&#x2F;stack\nova\nova\conductor\rpcapi.py:221: self.client &#x3D; rpc.get_client(target,<br>..&#x2F;stack\nova\nova\conductor\rpcapi.py:299: self.client &#x3D; rpc.get_client(target, serializer&#x3D;serializer)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-built_in">super</span>(ConductorAPI, self).__init__()<br>    target = messaging.Target(topic=RPC_TOPIC, version=<span class="hljs-string">&#x27;3.0&#x27;</span>)<br>    version_cap = self.VERSION_ALIASES.get(CONF.upgrade_levels.conductor,<br>                                           CONF.upgrade_levels.conductor)<br>    serializer = objects_base.NovaObjectSerializer()<br>    self.client = rpc.get_client(target,<br>                                 version_cap=version_cap,<br>                                 serializer=serializer)<br></code></pre></td></tr></table></figure><h2 id="3-nova-scheduler-nova-è°ƒåº¦æœåŠ¡"><a href="#3-nova-scheduler-nova-è°ƒåº¦æœåŠ¡" class="headerlink" title="3 - nova-scheduler (nova è°ƒåº¦æœåŠ¡)"></a>3 - nova-scheduler (nova è°ƒåº¦æœåŠ¡)</h2><p>..&#x2F;stack\nova\nova\scheduler\rpcapi.py:129: self.client &#x3D; rpc.get_client(target, version_cap&#x3D;version_cap,</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-built_in">super</span>(SchedulerAPI, self).__init__()<br>    target = messaging.Target(topic=RPC_TOPIC, version=<span class="hljs-string">&#x27;4.0&#x27;</span>)<br>    version_cap = self.VERSION_ALIASES.get(CONF.upgrade_levels.scheduler,<br>                                           CONF.upgrade_levels.scheduler)<br>    serializer = objects_base.NovaObjectSerializer()<br>    self.client = rpc.get_client(target, version_cap=version_cap,<br>                                 serializer=serializer)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>OpenStack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>RPC</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Constan Propagation and Worklist Solver</title>
    <link href="/2024/02/28/Constan-Propagation-and-Worklist-Solver/"/>
    <url>/2024/02/28/Constan-Propagation-and-Worklist-Solver/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½œä¸šå¯¼è§ˆ"><a href="#ä½œä¸šå¯¼è§ˆ" class="headerlink" title="ä½œä¸šå¯¼è§ˆ"></a>ä½œä¸šå¯¼è§ˆ</h1><ul><li>ä¸º Java å®ç°å¸¸é‡ä¼ æ’­ç®—æ³•ã€‚</li><li>å®ç°ä¸€ä¸ªé€šç”¨çš„ worklist æ±‚è§£å™¨ï¼Œå¹¶ç”¨å®ƒæ¥è§£å†³ä¸€äº›æ•°æ®æµåˆ†æé—®é¢˜ï¼Œä¾‹å¦‚æœ¬æ¬¡çš„å¸¸é‡ä¼ æ’­ã€‚</li></ul><h1 id="å®ç°ConstantPropagationä¸­çš„APIï¼š"><a href="#å®ç°ConstantPropagationä¸­çš„APIï¼š" class="headerlink" title="å®ç°ConstantPropagationä¸­çš„APIï¼š"></a>å®ç°ConstantPropagationä¸­çš„APIï¼š</h1><ul><li><strong>CPFact newBoundaryFact(CFG)</strong></li><li><strong>CPFact newInitialFact()</strong></li><li><strong>void meetInto(CPFact, CPFact)</strong></li><li>Value meetValue(Value, Value)</li><li><strong>boolean transferNode(Stmt, CPFact, CPFact)</strong></li><li>Value evaluate(Exp, CPFact)</li></ul><blockquote><p>æœ¬æ¬¡ä½œä¸šåªå…³æ³¨ int ç±»å‹çš„å¸¸é‡ä¼ æ’­ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæ¡†æ¶ä»£ç åœ¨ ConstantPropagation ç±»ä¸­æä¾›äº† <strong>canHoldInt(Var)</strong> æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡èƒ½å¦å‚¨å­˜ int ç±»å‹çš„å€¼ã€‚ä½ éœ€è¦åˆ©ç”¨è¿™ä¸ªæ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦åœ¨æœ¬æ¬¡ä½œä¸šçš„åˆ†æèŒƒå›´å†…ï¼Œå¹¶å¿½ç•¥é‚£äº›ä¸åœ¨èŒƒå›´å†…çš„å˜é‡ï¼ˆä¾‹å¦‚ float ç±»å‹çš„å˜é‡ï¼‰ã€‚</p></blockquote><h2 id="1-CPFact-newBoundaryFact-CFG"><a href="#1-CPFact-newBoundaryFact-CFG" class="headerlink" title="1 - CPFact newBoundaryFact(CFG)"></a>1 - CPFact newBoundaryFact(CFG)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> CPFact <span class="hljs-title function_">newBoundaryFact</span><span class="hljs-params">(CFG&lt;Stmt&gt; cfg)</span> &#123;<br>    <span class="hljs-comment">// TODO - finish me</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>pascal.taie.analysis.dataflow.analysis.constprop.CPFact<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CPFact</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MapFact</span>&lt;Var, Value&gt; &#123;&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªç±»è¡¨ç¤ºå¸¸é‡ä¼ æ’­ä¸­çš„ data factsï¼Œå³ä¸€ä¸ªä»å˜é‡ï¼ˆVarï¼‰åˆ°æ ¼ä¸ŠæŠ½è±¡å€¼ï¼ˆValueï¼‰çš„æ˜ å°„ã€‚è¯¥ç±»æä¾›äº†å„ç§ map ç›¸å…³çš„æ“ä½œï¼Œä¾‹å¦‚é”®å€¼å¯¹çš„æŸ¥è¯¢ã€æ›´æ–°ç­‰ç­‰ã€‚è¿™äº›æ“ä½œå¤§å¤šç»§æ‰¿è‡ª <strong>pascal.taie.analysis.dataflow.fact.MapFact</strong>ã€‚</p></blockquote></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">update</span><span class="hljs-params">(Var key, Value value)</span> &#123;<br>    <span class="hljs-keyword">if</span> (value.isUndef()) &#123;<br>        <span class="hljs-comment">// if the client code sets variable key to UNDEF,</span><br>        <span class="hljs-comment">// then we remove the variable from the CPFact</span><br>        <span class="hljs-comment">// as we use absence to represent UNDEF.</span><br>        <span class="hljs-keyword">return</span> remove(key) != <span class="hljs-literal">null</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.update(key, value);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå‡½æ•°ç”¨æ¥æ›´æ–°CPFactï¼Œä¹Ÿå°±æ˜¯ç»™CPFactèµ‹å€¼ã€‚</p></blockquote><ul><li>pascal.taie.ir.*</li></ul><p>pascal.taie.ir.IR</p><blockquote><p>è¿™æ˜¯ Tai-e çš„ IR çš„æ ¸å¿ƒæ•°æ®ç»“æ„ã€‚å®ƒçš„æ¯ä¸ªå®ä¾‹å‚¨å­˜äº†ä¸€ä¸ª Java æ–¹æ³•çš„å„ç§ä¿¡æ¯ï¼Œä¾‹å¦‚å˜é‡ã€å‚æ•°ã€è¯­å¥ç­‰ç­‰ã€‚</p></blockquote><p>pascal.taie.ir.exp.Var</p><blockquote><p>è¿™ä¸ªç±»ä»£è¡¨ IR ä¸­çš„å˜é‡ã€‚</p></blockquote><p>ç»¼ä¸Šå¯å¾—ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> CPFact <span class="hljs-title function_">newBoundaryFact</span><span class="hljs-params">(CFG&lt;Stmt&gt; cfg)</span> &#123;<br>    <span class="hljs-comment">// TODO - finish me</span><br>    <span class="hljs-type">CPFact</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CPFact</span>();<br>    <span class="hljs-keyword">for</span> ( Var <span class="hljs-keyword">var</span> : cfg.getIR().getParams() ) &#123;<br>        result.update(<span class="hljs-keyword">var</span>, Value.getNAC());<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-CPFact-newInitialFact"><a href="#2-CPFact-newInitialFact" class="headerlink" title="2 - CPFact newInitialFact()"></a>2 - CPFact newInitialFact()</h2><p>è¿™ä¸ªç›¸å¯¹ç®€å•ï¼Œç›®çš„æ˜¯åˆ›å»ºä¸€ä¸ªCPFactï¼Œæ‰€ä»¥ä¹‹ä¹…ä½¿ç”¨ new CPFact()ï¼Œå³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> CPFact <span class="hljs-title function_">newInitialFact</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// TODO - finish me</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CPFact</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-void-meetInto-CPFact-CPFact"><a href="#3-void-meetInto-CPFact-CPFact" class="headerlink" title="3 - void meetInto(CPFact, CPFact)"></a>3 - void meetInto(CPFact, CPFact)</h2><p>Value meetValue(Value, Value)å¯¹åº”ç€æ ¼ä¸Šçš„ meet æ“ä½œï¼ˆâŠ“ï¼Œåº”å½“åœ¨ meetInto() æ–¹æ³•ä¸­è°ƒç”¨å®ƒã€‚</p><img src="/images/Constan-Propagation-and-Worklist-Solver/meet.png" width=600><blockquote><p>ä¹Ÿå°±æ˜¯ä¸‹é¢è¿™å››ç§æƒ…å†µï¼š<br>NAC ^ v &#x3D; NAC<br>UNDEF ^ v &#x3D; v<br>c ^ c &#x3D; c<br>c1 ^ c2 &#x3D; NAC</p></blockquote><p>pascal.taie.analysis.dataflow.analysis.constprop.Value</p><blockquote><p>è¿™ä¸ªç±»è¡¨ç¤ºäº†å¸¸é‡åˆ†æä¸­æ ¼ä¸Šçš„æŠ½è±¡å€¼ (è§ç¬¬ 6 è®²è¯¾ä»¶çš„ç¬¬ 238 é¡µ)ã€‚å®ƒçš„ä»£ç å’Œæ³¨é‡Šè§£é‡Šäº†å®ƒçš„ç”¨æ³•ã€‚ä½ åº”è¯¥ç”¨ä¸‹åˆ—çš„é™æ€æ–¹æ³•è·å–æ ¼ä¸ŠæŠ½è±¡å€¼ï¼ˆå³è¯¥ç±»çš„å®ä¾‹ï¼‰ï¼š</p></blockquote><p>Value getNAC(): è¿”å› NAC<br>Value getUndef(): è¿”å› UNDEF<br>Value makeConstant(int): è¿”å›ç»™å®šæ•´æ•°åœ¨æ ¼ä¸Šå¯¹åº”çš„æŠ½è±¡å€¼</p><p>æ ¹æ®å›¾ä¸­çš„é€»è¾‘å…³ç³»å¯å¾—ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> Value <span class="hljs-title function_">meetValue</span><span class="hljs-params">(Value v1, Value v2)</span> &#123;<br>    <span class="hljs-comment">// TODO - finish me</span><br>    <span class="hljs-keyword">if</span>(v1.isNAC() || v2.isNAC()) &#123;<br>        <span class="hljs-keyword">return</span> Value.getNAC();<br>    &#125;<br>    <span class="hljs-keyword">if</span>(v1.isConstant() &amp;&amp; v2.isConstant())&#123;<br>        <span class="hljs-keyword">if</span>(v1.getConstant() != v2.getConstant()) &#123;<br>            <span class="hljs-keyword">return</span> Value.getNAC();<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> Value.makeConstant(v1.getConstant());<br>        &#125;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v1.isConstant())&#123;<br>        <span class="hljs-keyword">return</span> Value.makeConstant(v1.getConstant());<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> Value.makeConstant(v2.getConstant());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>void meetInto(CPFact, CPFact)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">meetInto</span><span class="hljs-params">(CPFact fact, CPFact target)</span> &#123;<br>    <span class="hljs-comment">//TODO - finish me</span><br>    <span class="hljs-comment">//å¯¹äºfacté‡Œé¢çš„æ¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé€šè¿‡åˆå¹¶æ¥æ›´æ–°ã€‚</span><br>    fact.entries().forEach(entry -&gt; &#123;<br>        <span class="hljs-type">Var</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> entry.getKey();<br>        <span class="hljs-type">Value</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> entry.getValue();<br>        target.update(key, meetValue(target.get(key), v));<br>        <span class="hljs-comment">//ä½¿ç”¨meetValueå‡½æ•°æ¥å®ç°meetæ“ä½œï¼Œfactæ˜¯æŒ‡ä¸Šä¸€è½®çš„ï¼Œtargetæ˜¯è¿™ä¸€è½®çš„</span><br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><ul><li><em>java å‡½æ•°å¼ç¼–ç¨‹</em></li><li><em>java stream</em></li></ul></blockquote><h2 id="4-boolean-transferNode-Stmt-CPFact-CPFact"><a href="#4-boolean-transferNode-Stmt-CPFact-CPFact" class="headerlink" title="4 - boolean transferNode(Stmt, CPFact, CPFact)"></a>4 - boolean transferNode(Stmt, CPFact, CPFact)</h2><h3 id="Value-evaluate-Exp-CPFact"><a href="#Value-evaluate-Exp-CPFact" class="headerlink" title="Value evaluate(Exp,CPFact)"></a>Value evaluate(Exp,CPFact)</h3><blockquote><p>è¿™ä¸ªæ–¹æ³•ä¼šè®¡ç®—è¡¨è¾¾å¼ï¼ˆExpï¼‰çš„å€¼ï¼ˆValueï¼‰ã€‚å½“ç„¶ï¼Œæ­¤å¤„çš„å€¼æ˜¯æ ¼ä¸Šçš„æŠ½è±¡å€¼ã€‚ä½ éœ€è¦å‚è€ƒç¬¬ 6 è®²è¯¾ä»¶çš„ç¬¬ 247 é¡µä¸Šçš„å†…å®¹æ¥å®ç°å®ƒçš„ä¸‰ç§æƒ…å†µã€‚å¯¹äºå…¶å®ƒæƒ…å†µï¼Œè¯¥æ–¹æ³•ä¼šåƒæˆ‘ä»¬åœ¨ç¬¬ 2.1 èŠ‚æåˆ°çš„é‚£æ ·è¿”å› NACã€‚ä½ åº”è¯¥åœ¨ transferNode() æ–¹æ³•ä¸­è°ƒç”¨å®ƒæ¥è¿›è¡Œè¡¨è¾¾å¼çš„æ±‚å€¼ã€‚</p></blockquote><p>1 - å…ˆå®ç°ä¸€å…ƒçš„æƒ…å†µï¼š</p><img src="/images/Constan-Propagation-and-Worklist-Solver/transfer-function1.png" width=500><ul><li>expæ˜¯ä¸€ä¸ªconstantï¼Œå°†intå€¼è½¬æ¢ä¸ºæŠ½è±¡çš„Valueå€¼å¹¶è¿”å›ã€‚</li></ul><p>pascal.taie.ir.exp.IntLiteral</p><blockquote><p>æ ¹æ® Java çš„è¯­è¨€è§„èŒƒï¼Œåœ¨ Tai-e ä¸­æŠŠå¸¸é‡ç§°ä½œå­—é¢é‡ï¼ˆLiteralsï¼‰ã€‚æ¯ä¸ª IntLiteral ç±»çš„å®ä¾‹éƒ½è¡¨ç¤ºä¸€ä¸ªç¨‹åºä¸­çš„æ•´æ•°å­—é¢é‡ã€‚å¯ä»¥é€šè¿‡è°ƒç”¨ getValue() æ–¹æ³•æ¥è·å–å®ƒçš„å€¼ã€‚</p></blockquote><p>Code:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (exp <span class="hljs-keyword">instanceof</span> IntLiteral intLiteral) &#123;<br>    <span class="hljs-keyword">return</span>  Value.makeConstant(intLiteral.getValue());<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>expæ˜¯ä¸€ä¸ªå˜é‡å€¼ï¼Œå–å‡ºå˜é‡Valä¸­çš„Valueå€¼å¹¶è¿”å›ã€‚(CPFactå®ç°ä»å˜é‡ï¼ˆVarï¼‰åˆ°æ ¼ä¸ŠæŠ½è±¡å€¼ï¼ˆValueï¼‰çš„æ˜ å°„)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (exp <span class="hljs-keyword">instanceof</span> Var v) &#123;<br>    <span class="hljs-keyword">return</span> in.get(v);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>expæœ‰ä¸¤ä¸ªæ“ä½œæ•°ï¼Œä¸”ä¸¤ä¸ªæ“ä½œæ•°å¹¶ä¸éƒ½æ˜¯constantï¼Œæ ¹æ®å›¾ç‰‡è¿”å›NACã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (!(exp <span class="hljs-keyword">instanceof</span> BinaryExp binaryExp)) &#123;<br>    <span class="hljs-keyword">return</span> Value.getNAC();<br>&#125;<br></code></pre></td></tr></table></figure><p>2 - å¤„ç†äºŒå…ƒçš„æƒ…å†µ</p><ul><li>å°†ä¸¤ä¸ªæ“ä½œæ•°çš„è¡¨è¾¾å¼åˆ†è§£æˆä¸ºå˜é‡valxï¼Œvalyå’Œæ“ä½œç¬¦opã€‚</li></ul><p>pascal.taie.ir.exp.Exp</p><blockquote><p>ä¸‹å›¾æ˜¯ä¸€ä¸ªç»§æ‰¿å…³ç³»çš„ç®€å•ç¤ºæ„å›¾ï¼ˆå·²ç•¥å»ä¸æœ¬æ¬¡ä½œä¸šæ— å…³çš„ç±»ï¼‰ã€‚</p></blockquote><img src="/images/Constan-Propagation-and-Worklist-Solver/exp.png" width=500><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">op</span> <span class="hljs-operator">=</span> ((BinaryExp) exp).getOperator().toString();<br><span class="hljs-type">Value</span> <span class="hljs-variable">valx</span> <span class="hljs-operator">=</span> in.get(((BinaryExp) exp).getOperand1());<br><span class="hljs-type">Value</span> <span class="hljs-variable">valy</span> <span class="hljs-operator">=</span> in.get(((BinaryExp) exp).getOperand2());<br></code></pre></td></tr></table></figure><ul><li>åˆ†åˆ«è®¨è®ºä¸‰ç§æƒ…å†µ<blockquote><p>å¯¹äºé™¤ä»¥ 0 çš„æƒ…å†µï¼ˆå‡ºç°åœ¨ &#x2F; å’Œ % ä¸­ï¼‰ï¼Œæˆ‘ä»¬è§„å®šç»“æœä¸º UNDEFã€‚ä¾‹å¦‚ï¼Œå¯¹äº x &#x3D; a &#x2F; 0ï¼Œx çš„å€¼å°†ä¼šæ˜¯ UNDEFã€‚</p></blockquote><img src="/images/Constan-Propagation-and-Worklist-Solver/transfer-function2.png" width=550></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span>((op.equals(<span class="hljs-string">&quot;/&quot;</span>) || op.equals(<span class="hljs-string">&quot;%&quot;</span>)) &amp;&amp; (valY.isConstant() &amp;&amp; valY.getConstant() == <span class="hljs-number">0</span>))&#123;<br>    <span class="hljs-keyword">return</span> Value.getUndef();<br>&#125;<br><br><span class="hljs-keyword">if</span>(valX.isNAC() || valY.isNAC()) &#123;<br>    <span class="hljs-keyword">return</span> Value.getNAC();<br>&#125;<br><br><span class="hljs-keyword">if</span>(valX.isUndef() || valY.isUndef()) &#123;<br>    <span class="hljs-keyword">return</span> Value.getUndef();<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å¤„ç†æ¡ä»¶è¡¨è¾¾å¼<blockquote><p>æ¡ä»¶è¡¨è¾¾å¼ï¼ˆå¦‚ a &#x3D;&#x3D; bï¼‰çš„å€¼ç”± 0ï¼ˆè‹¥ä¸º Falseï¼‰å’Œ 1ï¼ˆè‹¥ä¸º Trueï¼‰æ¥è¡¨ç¤ºã€‚</p></blockquote></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calc</span><span class="hljs-params">(<span class="hljs-type">boolean</span> res)</span>&#123;<br>    <span class="hljs-keyword">return</span> res ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>æ ¹æ®opè®¡ç®—ç»“æœå€¼å¹¶è¿”å›</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> valX.getConstant(), y = valY.getConstant();<br><span class="hljs-type">int</span> res;<br><br>res = <span class="hljs-keyword">switch</span> (op)&#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;+&quot;</span> -&gt; x + y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;*&quot;</span> -&gt; x * y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;-&quot;</span> -&gt; x - y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;/&quot;</span> -&gt; x / y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;%&quot;</span> -&gt; x % y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;|&quot;</span> -&gt; x | y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&amp;&quot;</span> -&gt; x &amp; y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;^&quot;</span> -&gt; x ^ y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;==&quot;</span> -&gt; calc(x == y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;!=&quot;</span> -&gt; calc(x != y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&lt;&quot;</span> -&gt; calc(x &lt; y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&gt;&quot;</span> -&gt; calc(x &gt; y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&lt;=&quot;</span> -&gt; calc(x &lt;= y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&gt;=&quot;</span> -&gt; calc(x &gt;= y);<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&lt;&lt;&quot;</span> -&gt; x &lt;&lt; y;<br>    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;&gt;&gt;&quot;</span> -&gt; x &gt;&gt; y;<br>    <span class="hljs-keyword">default</span> -&gt;  x &gt;&gt;&gt; y;<br>&#125;;<br><span class="hljs-keyword">return</span> Value.makeConstant(res);<br></code></pre></td></tr></table></figure><h3 id="boolean-transferNode-Stmt-stmt-CPFact-in-CPFact-out"><a href="#boolean-transferNode-Stmt-stmt-CPFact-in-CPFact-out" class="headerlink" title="boolean transferNode(Stmt stmt, CPFact in, CPFact out)"></a>boolean transferNode(Stmt stmt, CPFact in, CPFact out)</h3><ul><li>æ™®é€šçš„è¯­å¥ç›´æ¥èµ‹å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-variable">change</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;<br><span class="hljs-keyword">for</span>(Var key : in.keySet())&#123;<span class="hljs-comment">//æ™®é€šçš„è¯­å¥å°±ç›´æ¥èµ‹å€¼</span><br>    change |= out.update(key, in.get(key));<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœæ˜¯DefinitionStmtï¼Œå°±åšç›¸åº”çš„å¤„ç†</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span>(stmt <span class="hljs-keyword">instanceof</span> DefinitionStmt&lt;?, ?&gt; def)&#123;<br>    <span class="hljs-type">LValue</span> <span class="hljs-variable">left</span> <span class="hljs-operator">=</span> def.getLValue();<br>    <span class="hljs-keyword">if</span>(left <span class="hljs-keyword">instanceof</span> Var x)&#123;<br>        <span class="hljs-keyword">if</span>(canHoldInt(x))&#123;<br>            <span class="hljs-type">Value</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> evaluate(def.getRValue(), in);<br>            change |= out.update(x, res);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">return</span> change;<br></code></pre></td></tr></table></figure><h1 id="å®ç°-Worklist-æ±‚è§£å™¨"><a href="#å®ç°-Worklist-æ±‚è§£å™¨" class="headerlink" title="å®ç° Worklist æ±‚è§£å™¨"></a>å®ç° Worklist æ±‚è§£å™¨</h1><ul><li><strong>Solver.initializeForward(CFG, DataflowResult)</strong></li><li><strong>WorkListSolver.doSolveForward(CFG, DataflowResult)</strong></li></ul><h2 id="1-Solver-initializeForward-CFG-DataflowResult"><a href="#1-Solver-initializeForward-CFG-DataflowResult" class="headerlink" title="1 - Solver.initializeForward(CFG, DataflowResult)"></a>1 - Solver.initializeForward(CFG, DataflowResult)</h2>]]></content>
    
    
    <categories>
      
      <category>Static Analysis Programming Assignments</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Tai-e</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Data Flow Analysis( Foundations )</title>
    <link href="/2024/02/27/Data-Flow-Analysis-Foundations/"/>
    <url>/2024/02/27/Data-Flow-Analysis-Foundations/</url>
    
    <content type="html"><![CDATA[<h1 id="1-Iterative-Algorithm-Another-View"><a href="#1-Iterative-Algorithm-Another-View" class="headerlink" title="1 - Iterative Algorithm, Another View"></a>1 - Iterative Algorithm, Another View</h1><ul><li>å‡è®¾ç»™å®šçš„ CFG æœ‰ k ä¸ªèŠ‚ç‚¹ï¼Œè¿­ä»£ç®—æ³•æ¯æ¬¡è¿­ä»£æ›´æ–°æ¯ä¸ªèŠ‚ç‚¹çš„ OUT[n]</li><li>å®šä¹‰ k-tuple (OUT[n1], â€¦ , OUT[nk])ï¼Œåˆ™è¯¥å…ƒç»„ä¸ºé›†åˆ V^k çš„ä¸€ä¸ªå…ƒç´ ï¼ˆV æ˜¯æ•°æ®æµåˆ†æçš„å€¼çš„åŸŸï¼‰</li><li>é‚£ä¹ˆæ¯æ¬¡è¿­ä»£å¯ä»¥è§†ä½œä½œç”¨äº†è½¬ç§»å‡½æ•°å’Œæµæ§åˆ¶å¤„ç†çš„ä¸€æ¬¡æ˜ å°„ï¼Œå³ï¼šF: V^k â€”&gt; V^k</li><li>æ•´ä¸ªç®—æ³•å°±æ˜¯åœ¨ä¸æ–­åœ°è¾“å‡ºè¿™æ ·çš„ k-tuple ç›´åˆ°å‡ºç°è¿ç»­ä¸¤ä¸ªç›¸åŒçš„ä¸ºæ­¢</li></ul><img src="/images/Data-Flow-Analysis-Foundations/Another-View.png"><blockquote><p>è¿­ä»£ç®—æ³•ä¼šåœ¨ X &#x3D; F(X) å¤„åœä¸‹æ¥ï¼Œå³æ•°å­¦å®šä¹‰ä¸Šçš„ä¸€ä¸ªä¸åŠ¨ç‚¹ï¼ˆfixed pointï¼‰</p></blockquote><p>Think:</p><ul><li>Is the algorithm guaranteed to terminate or reach the fixed point, or does it always have a solution?</li><li>If so, is there only one solution or only one fixed point? If more than one, is our solution the best one (most precise)?</li><li>When will the algorithm reach the fixed point, or when can we get the solution? (æ—¶é—´å¤æ‚åº¦)</li></ul><h1 id="2-Partial-Order"><a href="#2-Partial-Order" class="headerlink" title="2- Partial Order"></a>2- Partial Order</h1><ul><li>ååºå…³ç³»ï¼ˆPartial Orderï¼‰æ»¡è¶³<strong>è‡ªåæ€§</strong>ã€<strong>åå¯¹ç§°æ€§</strong>ã€<strong>ä¼ é€’æ€§</strong>ã€‚</li><li>ä¸€ä¸ªååºé›†ï¼ˆposetï¼‰ä¸­çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¹‹é—´ä¸ä¸€å®šæ»¡è¶³ååºå…³ç³»</li></ul><img src="/images/Data-Flow-Analysis-Foundations/Partial-Order.png" width=550><h1 id="3-Upper-and-Lower-Bounds"><a href="#3-Upper-and-Lower-Bounds" class="headerlink" title="3 - Upper and Lower Bounds"></a>3 - Upper and Lower Bounds</h1><p>ä¸Šç•Œï¼ˆupper boundï¼‰å’Œä¸‹ç•Œï¼ˆlower boundï¼‰<br><img src="/images/Data-Flow-Analysis-Foundations/ul-bound.png" width=450></p><p>æœ€å°ä¸Šç•Œï¼ˆleast upper boundï¼‰å’Œæœ€å¤§ä¸‹ç•Œï¼ˆgreatest lower boundï¼‰<br><img src="/images/Data-Flow-Analysis-Foundations/least-ul-bound.png" width=500></p><blockquote><p>ä¸æ˜¯æ¯ä¸ªååºé›†éƒ½æœ‰æœ€å°ä¸Šç•Œï¼ˆæœ€å¤§ä¸‹ç•Œï¼‰ï¼›è‹¥ååºé›†å­˜åœ¨æœ€å°ä¸Šç•Œï¼ˆæœ€å¤§ä¸‹ç•Œï¼‰ï¼Œåˆ™æ˜¯å”¯ä¸€çš„</p></blockquote><h1 id="4-Lattice-Semilattice-Complete-and-Product-Lattice"><a href="#4-Lattice-Semilattice-Complete-and-Product-Lattice" class="headerlink" title="4 - Lattice, Semilattice, Complete and Product Lattice"></a>4 - Lattice, Semilattice, Complete and Product Lattice</h1><ul><li>æ ¼ï¼ˆLatticeï¼‰</li></ul><img src="/images/Data-Flow-Analysis-Foundations/lattice.png" width=500><ul><li>åŠæ ¼ï¼ˆSemilatticeï¼‰</li></ul><img src="/images/Data-Flow-Analysis-Foundations/semilattice.png" width=500><ul><li>å…¨æ ¼ï¼ˆComplete Latticeï¼‰</li></ul><img src="/images/Data-Flow-Analysis-Foundations/complete-lattice.png" width=500><blockquote><p>Every <strong>finite</strong> lattice (P is finite) is a complete lattice. ( æœ‰ç©·æ ¼ä¸€å®šæ˜¯å…¨æ ¼ï¼Œå…¨æ ¼ä¸ä¸€å®šæ˜¯æœ‰ç©·æ ¼ )</p></blockquote><ul><li>æ ¼çš„ç§¯ï¼ˆProduct Latticeï¼‰</li></ul><img src="/images/Data-Flow-Analysis-Foundations/product-lattice.png" width=500><blockquote><ul><li>A product lattice is a lattice.</li><li>If a product lattice L is a product of complete lattices, then L is also complete.</li></ul></blockquote><h1 id="5-Data-Flow-Analysis-Framework-via-Lattice"><a href="#5-Data-Flow-Analysis-Framework-via-Lattice" class="headerlink" title="5 - Data Flow Analysis Framework via Lattice"></a>5 - Data Flow Analysis Framework via Lattice</h1><p>A data flow analysis framework (D, L, F) consists of:</p><ul><li>D: a direction of data flow: forwards or backwards.</li><li>L: a lattice including domain of the values V and a meet âˆ© or join âˆª operator.</li><li>F: a family of transfer functions from V to V.<blockquote><p>Data flow analysis can be seen as iteratively applying transfer functions and meet&#x2F;join operations on the values of a lattice.</p></blockquote></li></ul><h1 id="6-Monotonicity-and-Fixed-Point-Theorem"><a href="#6-Monotonicity-and-Fixed-Point-Theorem" class="headerlink" title="6 - Monotonicity and Fixed Point Theorem"></a>6 - Monotonicity and Fixed Point Theorem</h1><h2 id="Monotonicity-Defineï¼š"><a href="#Monotonicity-Defineï¼š" class="headerlink" title="Monotonicity Defineï¼š"></a>Monotonicity Defineï¼š</h2><p>ä¸€ä¸ªå‡½æ•°f: L â†’ L (Lä¸ºlattice)æ˜¯å•è°ƒçš„ï¼Œå½“ä¸”ä»…å½“âˆ€x, y âˆˆ L,x âŠ‘ y âŸ¹ f(x) âŠ‘ f(y)ã€‚</p><h2 id="Fixed-Point-Theorem"><a href="#Fixed-Point-Theorem" class="headerlink" title="Fixed Point Theorem"></a>Fixed Point Theorem</h2><img src="/images/Data-Flow-Analysis-Foundations/fixed-point.png" width=500><p>Letâ€™s prove</p><ul><li>Existence of fixed point.</li><li>The fixed point is the least.</li></ul><h1 id="7-Relate-Iteraive-Algorithm-to-Fixed-Point-Theorem"><a href="#7-Relate-Iteraive-Algorithm-to-Fixed-Point-Theorem" class="headerlink" title="7 - Relate Iteraive Algorithm to Fixed Point Theorem"></a>7 - Relate Iteraive Algorithm to Fixed Point Theorem</h1><img src="/images/Data-Flow-Analysis-Foundations/relate.png" width=500><h1 id="8-May-Must-Analysis-A-Lattice-View"><a href="#8-May-Must-Analysis-A-Lattice-View" class="headerlink" title="8 - May&#x2F;Must Analysis, A Lattice View"></a><em>8 - May&#x2F;Must Analysis, A Lattice View</em></h1><img src="/images/Data-Flow-Analysis-Foundations/May-Must-Analysis.png" width=550><blockquote><ul><li>mayåˆ†æçš„ç›®çš„å¯ä»¥çœ‹ä½œæ˜¯æŠ¥é”™ï¼Œå› æ­¤åˆå§‹åŒ–åœ¨bottomï¼Œæ­¤æ—¶åˆ†æç»“æœä¸ºæ— é”™è¯¯ï¼Œå› æ­¤è‚¯å®šæ˜¯ä¸€ä¸ªunsafeçš„ç»“æœï¼›è€Œåœ¨topå¤„ï¼Œåˆ†æç»“æœæ˜¯æ‰€æœ‰ç‚¹éƒ½å‡ºé”™çš„ï¼Œè¿™ä¸ªè‚¯å®šæ˜¯safeçš„ï¼Œä½†æ˜¯å°±æœ‰äº›æ˜¯åšäº†æ— ç”¨åŠŸäº†ï¼›å› æ­¤æˆ‘ä»¬çš„ç›®çš„æ˜¯åœ¨äºŒè€…ä¹‹é—´æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå‡è®¾{a,c}æ˜¯truthï¼Œé‚£ä¹ˆä»¥æ­¤ä¸ºç•Œå¯ä»¥åˆ’åˆ†ä¸ºä¸¤å—(ä¹‹æ‰€ä»¥æ˜¯åŒºåŸŸæ˜¯å› ä¸ºè¿™å…¶å®æ˜¯ä¸€ä¸ªproduct lattice)ï¼Œäº¤ç•Œç‚¹ä¾¿æ˜¯truthã€‚</li><li>mustçš„ç›®çš„å¯ä»¥çœ‹ä½œæ˜¯åˆ é™¤ä¼˜åŒ–ï¼Œå› æ­¤åˆå§‹åŒ–åœ¨topï¼Œæ­¤æ—¶åˆ†æç»“æœä¸ºæ‰€æœ‰è¯­å¥éƒ½å¯åˆ é™¤ï¼Œé‚£è‚¯å®šæ˜¯unsafeçš„ï¼Œå…¶ä½™ç±»æ¯”mayå¯å¾—ã€‚</li><li>ä¼šå‘ç°mayåˆ†ææ˜¯æŸ¥é”™ç”¨çš„ï¼Œæ‰€ä»¥å¿…é¡»éƒ½æ˜¯1æ‰å®‰å…¨ï¼Œè€Œmustæ˜¯ä¼˜åŒ–ç”¨çš„ï¼Œæ‰€ä»¥éƒ½æ˜¯0æ‰æœ€å®‰å…¨ï¼Œæ— è®ºæ˜¯MUSTè¿˜&gt;æ˜¯MAYï¼Œéƒ½æ˜¯ä»Unsafeå¾€Safeæ–¹å‘èµ°ï¼Œè¾¾åˆ°ç¬¬ä¸€ä¸ªä¸åŠ¨ç‚¹ã€‚</li><li>å°±æ˜¯ç”¨ä¹‹å‰ {a, b, c} çš„å›¾æ¥ç†è§£ï¼Œç°åœ¨æœ‰ä¸€ä¸ª {a} å’Œ ä¸€ä¸ª {b}ï¼Œå®ƒä»¬å›ºç„¶å¯ä»¥èµ°åˆ° {a, b, c}ï¼Œä½†æ˜¯å®ƒä»¬çš„ join æ˜¯ {a, b}</li><li>å›¾ä¸­æ‰€æœ‰ä¸åŠ¨ç‚¹éƒ½æ˜¯safeçš„ï¼Œå…¶å®æ˜¯çœ‹ç®—æ³•è®¾è®¡æƒ…å†µï¼Œå¦‚æœç”±ä¸åŠ¨ç‚¹åœ¨unsafeåŒºåŸŸï¼Œé‚£ä¹ˆè¿™ä¸ªç®—æ³•å°±æ˜¯ä¸åˆæ ¼çš„ã€‚</li></ul></blockquote><h1 id="9-Distributivity-and-MOP"><a href="#9-Distributivity-and-MOP" class="headerlink" title="9 - Distributivity and MOP"></a>9 - Distributivity and MOP</h1><ul><li>Meet-Over-All-Paths Solution (MOP)</li></ul><blockquote><p>ä¸ä¹‹å‰ä½¿ç”¨çš„ç®—æ³•ä¸åŒï¼Œæˆ‘ä»¬ä»¥å‰ä½¿ç”¨çš„ç®—æ³•æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ²¿ç€æ•°æ®æµåå¤è¿­ä»£çš„ï¼Œè€ŒMOPæ˜¯æ‰¾å‡ºä»å¼€å¤´åˆ°ç»“å°¾æ‰€æœ‰è·¯å¾„ï¼Œåˆ†åˆ«è¿›è¡Œä¼ é€’å‡½æ•°è®¡ç®—ï¼Œæœ€åå°†ç®—å®Œçš„æ‰€æœ‰è·¯å¾„è¿›è¡ŒâŠ”&#x2F;âŠ“</p></blockquote><img src="/images/Data-Flow-Analysis-Foundations/MOP.png" width=500><blockquote><p>ç”±äºæŸäº›è·¯å¾„å¯èƒ½å®é™…æ— æ³•åˆ°è¾¾ï¼Œå› æ­¤MOPä¸æ˜¯ç‰¹åˆ«ç²¾ç¡®ï¼›è€Œåœ¨æ­£å¸¸çš„ç¨‹åºä¸­è·¯å¾„è¿‡å¤šï¼Œå‡ ä¹æ— æ³•å…¨éƒ¨æšä¸¾ï¼Œå› æ­¤MOPä¹Ÿä¸å¤ªå®é™…ã€‚</p></blockquote><ul><li>Iterative Algorithm vs. MOP<blockquote><p>iterative algorithm: F(x âˆª y)<br>MOP: F(X) âˆª F(y)</p></blockquote></li></ul><p>ç»è¿‡è¯æ˜MOP âŠ‘ Oursæ»¡è¶³ååºå…³ç³»ï¼Œæ ¹æ®ä¹‹å‰çš„å›¾ï¼Œå¯¹äºmay analysesï¼ŒMOPæ›´åŠ æ¥è¿‘truthå› æ­¤æ›´åŠ ç²¾ç¡®ã€‚<br>åŒç†ï¼Œå¯¹äºmust analysesï¼Œæœ‰Ours âŠ‘ MOPï¼Œæ ¹æ®ä¹‹å‰çš„å›¾ï¼ŒMOPæ¥è¿‘truthï¼Œæ›´åŠ ç²¾å‡†ã€‚<br>åªè¦æ»¡è¶³äº†è½¬æ¢å‡½æ•°æ˜¯distributiveçš„æ¡ä»¶ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å°±å’ŒMOPä¸€æ ·ç²¾å‡†ï¼Œä¸Šä¸€ç¯‡æ–‡ç« ä¸­æåˆ°çš„ä¸‰ä¸ªç®—æ³•éƒ½æ˜¯distributiveï¼Œä¸‹é¢å°†ä¸€ä¸ªä¸æ˜¯distributiveçš„ç®—æ³•ã€‚</p><h1 id="10-Constant-Propagation"><a href="#10-Constant-Propagation" class="headerlink" title="10 - Constant Propagation"></a>10 - Constant Propagation</h1><h2 id="Define"><a href="#Define" class="headerlink" title="Define"></a>Define</h2><p>Given a variable x at program point p, determine whether x is guaranteed to hold a constant value at p.</p><blockquote><p>åœ¨ç¨‹åºç‚¹på¤„ç»™å®šä¸€ä¸ªå˜é‡xï¼Œåˆ¤æ–­xåœ¨ç¨‹åºç‚¹på¤„æ˜¯å¦<strong>ä¸€å®š</strong>æŒ‡å‘ä¸€ä¸ªå¸¸é‡ã€‚</p></blockquote><ul><li>The OUT of each node in CFG, includes a set of pairs (x, v) where x is a variable and v is the value held by x after that node.<blockquote><p>è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼muståˆ†æï¼Œå› ä¸ºå¿…é¡»æ‰€æœ‰åˆ°ç‚¹pçš„pathéƒ½æ˜¯è¿™ä¸ªå¸¸é‡æ‰è¡Œï¼›ä½†æœ‰å’Œä¼ ç»Ÿçš„ä¸å¤§ä¸€æ ·ã€‚<br>åœ¨CFGä¸­æ¯ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºåŒ…æ‹¬ä¸€ä¸ªå¯¹(x, v)ï¼Œå…¶ä¸­xæ˜¯å˜é‡è€Œvæ˜¯åœ¨è¯¥èŠ‚ç‚¹åxæŒ‡å‘çš„å…·ä½“å€¼ã€‚</p></blockquote></li></ul><p>Why constant propagation?</p><blockquote><p>å¸¸é‡ä¼ æ’­å¯ä»¥æŠŠåŸæœ¬åœ¨è¿è¡Œæ—¶çš„è®¡ç®—è½¬ç§»åˆ°ç¼–è¯‘æ—¶è¿›è¡Œï¼Œå‡å°äº†ç¨‹åºè¿è¡Œæ—¶çš„å¼€é”€ã€‚åŒæ—¶å¸¸é‡ä¼ æ’­è¿˜æœ‰åŠ©äºå®ç°å…¶å®ƒçš„ä¼˜åŒ–ï¼Œæ¯”å¦‚æ­»ä»£ç æ¶ˆé™¤ã€‚</p></blockquote><h2 id="Constant-Propagation-Lattice"><a href="#Constant-Propagation-Lattice" class="headerlink" title="Constant Propagation - Lattice"></a>Constant Propagation - Lattice</h2><img src="/images/Data-Flow-Analysis-Foundations/CP-lattice.png" width=500><h2 id="Constant-Propagation-Transfer-Function"><a href="#Constant-Propagation-Transfer-Function" class="headerlink" title="Constant Propagation - Transfer Function"></a>Constant Propagation - Transfer Function</h2><img src="/images/Data-Flow-Analysis-Foundations/CP-function.png" width=500><h2 id="Constant-Propagation-Nondistributivity"><a href="#Constant-Propagation-Nondistributivity" class="headerlink" title="Constant Propagation - Nondistributivity"></a>Constant Propagation - Nondistributivity</h2><img src="/images/Data-Flow-Analysis-Foundations/CP-nondistributivity.png" width=500><h1 id="11-Worklist-Algorithm"><a href="#11-Worklist-Algorithm" class="headerlink" title="11 - Worklist Algorithm"></a>11 - Worklist Algorithm</h1><img src="/images/Data-Flow-Analysis-Foundations/Worklist Algorithm.png" width=500><h1 id="The-X-You-Need-To-Understand-in-This-Lecture"><a href="#The-X-You-Need-To-Understand-in-This-Lecture" class="headerlink" title="The X You Need To Understand in This Lecture"></a>The X You Need To Understand in This Lecture</h1><ul><li>Understand the functional view of iterarive algorithm</li><li>The definitions of lattice and complete lattice</li><li>Understand the fixed-point theorem</li><li>How to summarize may and must analyses in lattices</li><li>The relation between MOP and the solution produced by the iterative algorithm </li><li>Constant propagation analysis </li><li>Worklist algorithm</li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Database System Chapter 1</title>
    <link href="/2024/02/26/Database-System-Chapter-1/"/>
    <url>/2024/02/26/Database-System-Chapter-1/</url>
    
    <content type="html"><![CDATA[<h1 id="1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°"><a href="#1-æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°" class="headerlink" title="1 - æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°"></a>1 - æ•°æ®åº“ç³»ç»Ÿæ¦‚è¿°</h1><h2 id="æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ"><a href="#æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ"></a>æ•°æ®åº“çš„4ä¸ªåŸºæœ¬æ¦‚å¿µ</h2><ul><li>Data( æ•°æ® )<blockquote><p>*recode( è®°å½• )*ï¼š<strong>æ•°æ®æ˜¯æœ‰ç»“æ„çš„</strong>ï¼Œè®°å½•æ˜¯è®¡ç®—æœºå­˜å‚¨æ•°æ®çš„ä¸€ç§æ ¼å¼æˆ–ä¸€ç§æ–¹æ³•ã€‚ æ—¥å¸¸ç”Ÿæ´»ä¸­äººä»¬å¯ä»¥ç›´æ¥ç”¨è‡ªç„¶è¯­è¨€æ¥æè¿°äº‹ç‰©ï¼Œè€Œåœ¨è®¡ç®—æœºä¸­å¸¸å¸¸ç”¨è®°å½•+è¯­ä¹‰æ¥æè¿°ã€‚</p></blockquote></li><li>Database( æ•°æ®åº“ )<blockquote><p>æ˜¯é•¿æœŸå‚¨å­˜åœ¨è®¡ç®—æœºå†…ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„å¤§é‡æ•°æ®çš„é›†åˆã€‚</p></blockquote></li><li>DataBase Management System( æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ )<blockquote><ul><li>ä½äºç”¨æˆ·åº”ç”¨ä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸€å±‚æ•°æ®ç®¡ç†è½¯ä»¶ã€‚</li><li>æ˜¯åŸºç¡€è½¯ä»¶ï¼Œæ˜¯ä¸€ä¸ªå¤§å‹å¤æ‚çš„è½¯ä»¶ç³»ç»Ÿã€‚<img src="/images/Database-System-Chapter-1/DBMS.png" width=120></li></ul></blockquote></li><li>DataBase System( æ•°æ®åº“ç³»ç»Ÿ )<blockquote><p>æ˜¯æŒ‡åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­å¼•å…¥æ•°æ®åº“åçš„ç³»ç»Ÿæ„æˆ(å¯¹æ•°æ®è¿›è¡Œå­˜å‚¨ã€ç®¡ç†ã€å¤„ç†å’Œç»´æŠ¤çš„ç³»ç»Ÿ)</p></blockquote></li></ul><h2 id="DBMS-çš„åŠŸèƒ½ï¼š"><a href="#DBMS-çš„åŠŸèƒ½ï¼š" class="headerlink" title="DBMS çš„åŠŸèƒ½ï¼š"></a>DBMS çš„åŠŸèƒ½ï¼š</h2><ul><li>æ•°æ®å®šä¹‰ã€ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†ã€æ“çºµ</li><li>æ•°æ®åº“çš„äº‹åŠ¡ç®¡ç†å’Œè¿è¡Œç®¡ç†ï¼ˆå®‰å…¨æ€§ã€å®Œæ•´æ€§ã€å¹¶å‘æ§åˆ¶ã€æ¢å¤ï¼‰</li><li>æ•°æ®åº“çš„å»ºç«‹å’Œç»´æŠ¤</li></ul><h2 id="æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹"><a href="#æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹" class="headerlink" title="æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹"></a>æ•°æ®åº“ç³»ç»Ÿçš„ç‰¹ç‚¹</h2><ul><li>æ•°æ®ç»“æ„åŒ–<blockquote><p>æ•°æ®çš„<strong>æ•´ä½“</strong>ç»“æ„åŒ–æ˜¯æ•°æ®åº“çš„ä¸»è¦ç‰¹å¾ä¹‹ä¸€</p></blockquote></li><li>æ•°æ®çš„å…±äº«æ€§é«˜ï¼Œå†—ä½™åº¦ä½ä¸”æ˜“æ‰©å……<blockquote><p>æ•°æ®é¢å‘æ•´ä¸ªç³»ç»Ÿï¼Œå¯ä»¥è¢«å¤šä¸ªç”¨æˆ·ã€å¤šä¸ªåº”ç”¨å…±äº«ä½¿ç”¨ã€‚<br><img src="/images/Database-System-Chapter-1/share.png" width=400></p></blockquote></li><li>æ•°æ®ç‹¬ç«‹æ€§å¼º<blockquote><p>æ•°æ®ç‹¬ç«‹æ€§ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„äºŒçº§æ˜ åƒåŠŸèƒ½æ¥ä¿è¯</p></blockquote></li><li>æ•°æ®ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶<blockquote><ul><li>æ•°æ®çš„å®‰å…¨æ€§ï¼ˆSecurityï¼‰ä¿æŠ¤</li><li>æ•°æ®çš„å®Œæ•´æ€§ï¼ˆIntegrityï¼‰æ£€æŸ¥</li><li>å¹¶å‘æ§åˆ¶ï¼ˆConcurrency Controlï¼‰</li><li>æ•°æ®åº“æ¢å¤ï¼ˆRecoveryï¼‰</li></ul></blockquote></li></ul><h1 id="2-æ•°æ®æ¨¡å‹"><a href="#2-æ•°æ®æ¨¡å‹" class="headerlink" title="2 - æ•°æ®æ¨¡å‹"></a>2 - æ•°æ®æ¨¡å‹</h1><p>æ•°æ®æ¨¡å‹æ˜¯å¯¹ç°å®ä¸–ç•Œæ•°æ®ç‰¹å¾çš„æŠ½è±¡</p><p><strong>æ•°æ®æ¨¡å‹çš„ç»„æˆè¦ç´ </strong>ï¼š</p><ul><li><p>æ•°æ®ç»“æ„â€“æè¿°ç³»ç»Ÿçš„é™æ€ç‰¹æ€§</p></li><li><p>æ•°æ®æ“ä½œâ€“æè¿°ç³»ç»Ÿçš„åŠ¨æ€ç‰¹æ€§</p></li><li><p>å®Œæ•´æ€§çº¦æŸâ€“ç»™å®šçš„æ•°æ®æ¨¡å‹ä¸­æ•°æ®åŠå…¶è”ç³»æ‰€å…·æœ‰çš„åˆ¶çº¦å’Œ<br>ä¾å­˜è§„åˆ™ã€‚</p></li><li><p>æ¦‚å¿µæ¨¡å‹ï¼š<br>å®ä½“-è”ç³»æ–¹æ³•ï¼ˆEntity-Relationship Approachï¼‰ï¼ˆE-Ræ¨¡å‹ï¼‰ï¼š</p></li></ul><img src="/images/Database-System-Chapter-1/E-R.png" width=500><ul><li><p><strong>é€»è¾‘æ¨¡å‹</strong>ï¼š</p><blockquote><p>å±‚æ¬¡ç»“æ„-å±‚æ¬¡æ¨¡å‹ã€ç½‘çŠ¶ç»“æ„â€“ç½‘çŠ¶æ¨¡å‹ã€å…³ç³»ç»“æ„â€”å…³ç³»æ¨¡å‹</p></blockquote></li><li><p>ç‰©ç†æ¨¡å‹</p></li></ul><h1 id="3-æ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„"><a href="#3-æ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„" class="headerlink" title="3 - æ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„"></a>3 - æ•°æ®åº“ç³»ç»Ÿçš„ç»“æ„</h1><ul><li>æ¨¡å¼ï¼ˆSchemaï¼‰<blockquote><p>æ˜¯å¯¹æ•°æ®åº“é€»è¾‘ç»“æ„å’Œç‰¹å¾çš„æè¿°<br>æ˜¯å‹çš„æè¿°ï¼Œä¸æ¶‰åŠå…·ä½“å€¼<br>æ¨¡å¼æ˜¯ç›¸å¯¹ç¨³å®šçš„</p></blockquote></li><li>å®ä¾‹ï¼ˆInstanceï¼‰<blockquote><p>æ•°æ®åº“æŸä¸€æ—¶åˆ»çš„çŠ¶æ€â€”â€”æ¨¡å¼çš„ä¸€ä¸ªå…·ä½“å€¼<br>åŒä¸€ä¸ªæ¨¡å¼å¯ä»¥æœ‰å¾ˆå¤šå®ä¾‹<br>nå®ä¾‹éšæ•°æ®åº“ä¸­çš„æ•°æ®çš„æ›´æ–°è€Œå˜åŠ¨</p></blockquote></li></ul><p>æ•°æ®åº“ç³»ç»Ÿçš„ä¸‰çº§æ¨¡å¼ç»“æ„:</p><img src="/images/Database-System-Chapter-1/ä¸‰çº§æ¨¡å¼.png" width=600><blockquote><ul><li>å¤–æ¨¡å¼ï¼ˆä¹Ÿç§°å­æ¨¡å¼æˆ–ç”¨æˆ·æ¨¡å¼ï¼‰</li><li>æ¨¡å¼ï¼ˆé€»è¾‘æ¨¡å¼ï¼‰</li><li>å†…æ¨¡å¼ï¼ˆä¹Ÿç§°å­˜å‚¨æ¨¡å¼ï¼‰ï¼ˆä¸€ä¸ªæ•°æ®åº“åªæœ‰ä¸€ä¸ªå†…æ¨¡å¼ï¼‰</li></ul></blockquote><p>æ•°æ®åº“çš„äºŒçº§æ˜ åƒåŠŸèƒ½</p><ul><li>å¤–æ¨¡å¼ï¼æ¨¡å¼æ˜ åƒ</li><li>æ¨¡å¼ï¼å†…æ¨¡å¼æ˜ åƒ<blockquote><p>æ•°æ®ç‹¬ç«‹æ€§ï¼ˆç‰©ç†ç‹¬ç«‹æ€§ã€é€»è¾‘ç‹¬ç«‹æ€§ï¼‰ç”±æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„äºŒçº§æ˜ åƒåŠŸèƒ½æ¥ä¿è¯ã€‚</p><ul><li>ç‰©ç†ç‹¬ç«‹æ€§æ˜¯æŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æ•°æ®åº“ä¸­æ•°æ®æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</li><li>é€»è¾‘ç‹¬ç«‹æ€§æ˜¯æŒ‡ç”¨æˆ·çš„åº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„é€»è¾‘ç»“æ„æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</li></ul></blockquote></li></ul><h1 id="4-æ•°æ®åº“ç³»ç»Ÿçš„ç»„æˆï¼ˆç•¥ï¼‰"><a href="#4-æ•°æ®åº“ç³»ç»Ÿçš„ç»„æˆï¼ˆç•¥ï¼‰" class="headerlink" title="4 - æ•°æ®åº“ç³»ç»Ÿçš„ç»„æˆï¼ˆç•¥ï¼‰"></a>4 - æ•°æ®åº“ç³»ç»Ÿçš„ç»„æˆï¼ˆç•¥ï¼‰</h1>]]></content>
    
    
    <categories>
      
      <category>Database System</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJUPT</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Live Variable Analysis and Iterative Solver</title>
    <link href="/2024/02/23/Live-Variable-Analysis-and-Iterative-Solver/"/>
    <url>/2024/02/23/Live-Variable-Analysis-and-Iterative-Solver/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½œä¸šå¯¼è§ˆ"><a href="#ä½œä¸šå¯¼è§ˆ" class="headerlink" title="ä½œä¸šå¯¼è§ˆ"></a>ä½œä¸šå¯¼è§ˆ</h1><ul><li>ä¸º Java å®ç°ä¸€ä¸ªæ´»è·ƒå˜é‡åˆ†æï¼ˆLive Variable Analysisï¼‰ã€‚</li><li>å®ç°ä¸€ä¸ªé€šç”¨çš„è¿­ä»£æ±‚è§£å™¨ï¼ˆIterative Solverï¼‰ï¼Œç”¨äºæ±‚è§£æ•°æ®æµåˆ†æé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æœ¬æ¬¡ä½œä¸šä¸­çš„æ´»è·ƒå˜é‡åˆ†æã€‚</li></ul><h1 id="å®ç°LiveVariableAnalysisä¸­çš„API"><a href="#å®ç°LiveVariableAnalysisä¸­çš„API" class="headerlink" title="å®ç°LiveVariableAnalysisä¸­çš„API"></a>å®ç°LiveVariableAnalysisä¸­çš„API</h1><ul><li><strong>SetFact newBoundaryFact(CFG)</strong></li><li><strong>SetFact newInitialFact()</strong></li><li><strong>void meetInto(SetFact,SetFact)</strong></li><li><strong>boolean transferNode(Stmt,SetFact,SetFact)</strong></li></ul><img src="/images/Live-Variable-Analysis-and-Iterative-Solver/LiveVariableAnalysis.png" width=400><h2 id="1-newBoundaryFact-newInitialFact-CFG"><a href="#1-newBoundaryFact-newInitialFact-CFG" class="headerlink" title="1 - newBoundaryFact() &amp; newInitialFact(CFG)"></a>1 - newBoundaryFact() &amp; newInitialFact(CFG)</h2><p>ç”±äºæ˜¯mayåˆ†æï¼Œé‡‡ç”¨çš„æ˜¯å¹¶è¿ç®—ç¬¦ï¼Œä¸”æ˜¯æ­£å‘ä¼ é€’çš„ï¼Œæ‰€ä»¥æ¯ä¸ªBBçš„Inéƒ½å› è¯¥åˆå§‹åŒ–ä¸ºç©ºã€‚</p><p>pascal.taie.analysis.dataflow.fact.SetFact<Var></p><blockquote><p>è¿™ä¸ªæ³›å‹ç±»ç”¨äºæŠŠ data fact ç»„ç»‡æˆä¸€ä¸ªé›†åˆã€‚å®ƒæä¾›äº†å„ç§é›†åˆæ“ä½œï¼Œå¦‚æ·»åŠ ã€åˆ é™¤å…ƒç´ ï¼Œå–äº¤é›†ã€å¹¶é›†ç­‰ã€‚ä½ åŒæ ·éœ€è¦é˜…è¯»æºç å’Œæ³¨é‡Šæ¥ç†è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªç±»è¡¨ç¤ºæ´»è·ƒå˜é‡åˆ†æä¸­çš„å„ç§ data factã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-keyword">return</span> set.add(e);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-keyword">return</span> set.remove(e);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">union</span><span class="hljs-params">(SetFact&lt;E&gt; other)</span> &#123;<br>    <span class="hljs-keyword">return</span> set.addAll(other.set);<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><ul><li>Setä¸­addæ–¹æ³•å¯ä»¥å‘é›†åˆä¸­æ·»åŠ å•ä¸ªå…ƒç´ ã€‚</li><li>unionä½¿ç”¨æ•°ç»„å·¥å…·ç±» Set å°†å‚æ•° other å¯¹è±¡ä¸­çš„é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°å½“å‰å¯¹è±¡çš„é›†åˆä¸­ï¼Œå¹¶è¿”å›æ·»åŠ æ“ä½œæ˜¯å¦æˆåŠŸçš„å¸ƒå°”å€¼ã€‚</li></ul></blockquote></blockquote><h2 id="2-meetInto-SetFact-SetFact"><a href="#2-meetInto-SetFact-SetFact" class="headerlink" title="2 - meetInto(SetFact,SetFact)"></a>2 - meetInto(SetFact,SetFact)</h2><ul><li>è¯¥å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯å°†ä¸¤ä¸ªé›†åˆåˆå¹¶ï¼Œæ‰€ä»¥ç›´æ¥é‡‡ç”¨unionæ–¹æ³•è¿›è¡Œåˆå¹¶å³å¯ã€‚</li><li>æ¯ä¸ªSetFact<Var>åŒ…æ‹¬äº†ä¸€ä¸ªVaré›†åˆçš„ç±»æˆå‘˜å’Œè‹¥å¹²æ“ä½œé›†åˆçš„æ–¹æ³•ï¼Œæ¯ä¸ª node ( ç¨‹åºç‚¹ )çš„ IN&#x2F;OUT éƒ½æ‹¥æœ‰ä¸€ä¸ª SetFact<Var>. åˆå§‹åŒ–æ—¶å› ä¸º LiveVariableAnalysis éƒ½è¦åˆå§‹åŒ–ä¸ºç©ºé›†ï¼Œè¿”å› new çš„å€¼å³å¯ã€‚</li></ul><img src="/images/Live-Variable-Analysis-and-Iterative-Solver/meetInto.png" width=550><h2 id="3-transferNode-Stmt-SetFact-SetFact"><a href="#3-transferNode-Stmt-SetFact-SetFact" class="headerlink" title="3 - transferNode(Stmt,SetFact,SetFact)"></a>3 - transferNode(Stmt,SetFact,SetFact)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// out -&gt; newInfact</span><br>SetFact&lt;Var&gt; newInFact = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SetFact</span>&lt;&gt;();<br>newInFact.union(out);   <br><br><span class="hljs-comment">// outFact - def</span><br><span class="hljs-keyword">if</span> (stmt.getDef().isPresent()) &#123; <br>    <span class="hljs-type">LValue</span> <span class="hljs-variable">def</span> <span class="hljs-operator">=</span> stmt.getDef().get();<br>    <span class="hljs-keyword">if</span> (def <span class="hljs-keyword">instanceof</span> Var) &#123;<br>        newInFact.remove((Var) def);<br>    &#125;<br>&#125;<span class="hljs-comment">// å› ä¸ºè¡¨è¾¾å¼å·¦è¾¹ä¹Ÿå°±æ˜¯defï¼Œæ˜¯ä¸€ä¸ªVarï¼Œæ‰€ä»¥ç›´æ¥ç”¨Optionalæ¥è¡¨ç¤ºã€‚</span><br><br><span class="hljs-comment">// (outFact - def ) + use</span><br><span class="hljs-keyword">for</span> (RValue use : stmt.getUses()) &#123;<br>    <span class="hljs-keyword">if</span> (use <span class="hljs-keyword">instanceof</span>  Var) &#123;<br>        newInFact.add((Var) use);<br>    &#125;<br>&#125;<span class="hljs-comment">// å› ä¸ºè¡¨è¾¾å¼å³ä¹Ÿå°±æ˜¯useï¼Œæ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªå€¼çš„ï¼Œæ‰€ä»¥ç›´æ¥ç”¨Listæ¥è¡¨ç¤ºã€‚</span><br></code></pre></td></tr></table></figure><p>Java 8 Optional</p><ul><li>Optional ç±»æ˜¯ä¸€ä¸ªå¯ä»¥ä¸ºnullçš„å®¹å™¨å¯¹è±¡ã€‚<strong>å¦‚æœå€¼å­˜åœ¨åˆ™isPresent()æ–¹æ³•ä¼šè¿”å›trueï¼Œè°ƒç”¨get()æ–¹æ³•ä¼šè¿”å›è¯¥å¯¹è±¡ã€‚</strong></li><li>Optional æ˜¯ä¸ªå®¹å™¨ï¼šå®ƒå¯ä»¥ä¿å­˜ç±»å‹Tçš„å€¼ï¼Œæˆ–è€…ä»…ä»…ä¿å­˜nullã€‚Optionalæä¾›å¾ˆå¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸ç”¨æ˜¾å¼è¿›è¡Œç©ºå€¼æ£€æµ‹ã€‚</li><li>Optional ç±»çš„å¼•å…¥å¾ˆå¥½çš„è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</li></ul><p>Java instanceof</p><ul><li>instanceofæ˜¯Javaä¸­çš„äºŒå…ƒè¿ç®—ç¬¦ï¼Œ<strong>å·¦è¾¹æ˜¯å¯¹è±¡</strong>ï¼Œ<strong>å³è¾¹æ˜¯ç±»</strong>ï¼›å½“å¯¹è±¡æ˜¯å³è¾¹ç±»æˆ–å­ç±»æ‰€åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›falseã€‚</li></ul><p><em><strong>LValue &amp; RValue</strong></em><br>pascal.taie.ir.exp.Expï¼šæ˜¯IR ä¸­çš„ä¸€ä¸ªå…³é”®æ¥å£ï¼Œç”¨äºè¡¨ç¤ºç¨‹åºä¸­çš„æ‰€æœ‰è¡¨è¾¾å¼ã€‚</p><ul><li>LValue:èµ‹å€¼è¯­å¥å·¦ä¾§çš„è¡¨è¾¾å¼ï¼Œå¦‚å˜é‡ï¼ˆx &#x3D; â€¦ ï¼‰ã€å­—æ®µè®¿é—®ï¼ˆx.f &#x3D; â€¦ï¼‰æˆ–æ•°ç»„è®¿é—®ï¼ˆx[i] &#x3D; â€¦ï¼‰<blockquote><p>ä»outFactä¸­removeæ‰defï¼Œéœ€è¦ç”¨åˆ°LValueï¼Œå› ä¸ºå®šä¹‰æ˜¯åœ¨è¡¨è¾¾å¼çš„å·¦è¾¹ï¼Œè€Œdefåªæœ‰ä¸€ä¸ªï¼Œæ•…ç”¨Optionalè¡¨ç¤ºã€‚</p></blockquote></li><li>RValue:èµ‹å€¼è¯­å¥å³ä¾§çš„è¡¨è¾¾å¼ï¼Œå¦‚æ•°å€¼å­—é¢é‡ï¼ˆâ€¦ &#x3D; 1;ï¼‰æˆ–äºŒå…ƒè¡¨è¾¾å¼ï¼ˆâ€¦ &#x3D; a + b;ï¼‰<blockquote><p>ä»outFactä¸­removeæ‰useï¼Œéœ€è¦ç”¨åˆ°RValueï¼Œå› ä¸ºå¼•ç”¨å˜é‡( use å˜é‡ )æ˜¯åœ¨è¡¨è¾¾å¼çš„å³è¾¹ï¼Œè€Œuseå¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œæ•…ç”¨Listæ¥è¡¨ç¤ºã€‚</p></blockquote></li></ul><p>getDef() &amp; getUses()</p><p>æœ€åç”±äºè¿™ä¸ªå‡½æ•°åœ¨ä¼ªä»£ç ä¸­æ˜¯éœ€è¦åˆ¤æ–­å‰åå€¼æ˜¯å¦æ”¹å˜ï¼Œä¸”å‡½æ•°è¿”å›å€¼çš„ç±»å‹æ˜¯booleanï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ åˆ¤æ–­è¯­å¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (!newInFact.equals(in)) &#123;<br>    in.set(newInFact);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><h1 id="å®ç°è¿­ä»£æ±‚è§£å™¨"><a href="#å®ç°è¿­ä»£æ±‚è§£å™¨" class="headerlink" title="å®ç°è¿­ä»£æ±‚è§£å™¨"></a>å®ç°è¿­ä»£æ±‚è§£å™¨</h1><ul><li>Solver.initializeBackward(CFG,DataflowResult)</li><li>IterativeSolver.doSolveBackward(CFG,DataflowResult)</li></ul><p>ç›¸å…³æç¤ºï¼š</p><blockquote><p>æ¯ä¸ª Solver å¯¹è±¡éƒ½åœ¨å­—æ®µ analysis ä¸­ä¿å­˜äº†ç›¸åº”çš„æ•°æ®æµåˆ†æå¯¹è±¡ï¼Œåœ¨æœ¬æ¬¡ä½œä¸šä¸­å°±æ˜¯ä¸€ä¸ª LiveVariableAnalysis å¯¹è±¡ã€‚ä½ éœ€è¦ç”¨å®ƒæä¾›çš„ç›¸å…³æ¥å£æ¥å®ç°åˆ†ææ±‚è§£å™¨ã€‚</p></blockquote><h2 id="1-Solver-initializeBackward-CFG-DataflowResult"><a href="#1-Solver-initializeBackward-CFG-DataflowResult" class="headerlink" title="1 - Solver.initializeBackward(CFG,DataflowResult)"></a>1 - Solver.initializeBackward(CFG,DataflowResult)</h2><p>å®ç°ä¼ªä»£ç ï¼š</p><img src="/images/Live-Variable-Analysis-and-Iterative-Solver/initializeBackward.png" width=300><p>DataflowResult:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> Fact <span class="hljs-title function_">getInFact</span><span class="hljs-params">(Node node)</span> &#123;<br>    <span class="hljs-keyword">return</span> inFacts.get(node);<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setInFact</span><span class="hljs-params">(Node node, Fact fact)</span> &#123;<br>    inFacts.put(node, fact);<br>&#125;   <br></code></pre></td></tr></table></figure><blockquote><p>è¯¥ç±»å¯¹è±¡ç”¨äºç»´æŠ¤æ•°æ®æµåˆ†æçš„ CFG ä¸­çš„ factã€‚å¯ä»¥é€šè¿‡å®ƒçš„ API è·å–( get )ã€è®¾ç½®( set ) CFG èŠ‚ç‚¹( node )çš„ IN facts å’Œ OUT factsã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initializeBackward</span><span class="hljs-params">(CFG&lt;Node&gt; cfg, DataflowResult&lt;Node, Fact&gt; result)</span> &#123;<br>    analysis.newBoundaryFact(cfg);<br>    <span class="hljs-keyword">for</span> (Node node : cfg.getNodes())&#123;<br>        <span class="hljs-keyword">if</span> ( cfg.isExit(node) )&#123;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        result.setInFact(node, analysis.newInitialFact());<br>        result.setOutFact(node, analysis.newInitialFact());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼š</p><ul><li>éœ€è¦åˆ¤æ–­nodeæ˜¯å¦åˆ°è¾¾exit( æœ«å°¾ )ã€‚</li></ul></blockquote><h2 id="2-IterativeSolver-doSolveBackward-CFG-DataflowResult"><a href="#2-IterativeSolver-doSolveBackward-CFG-DataflowResult" class="headerlink" title="2 - IterativeSolver.doSolveBackward(CFG,DataflowResult)"></a>2 - IterativeSolver.doSolveBackward(CFG,DataflowResult)</h2><p>å®ç°ä¼ªä»£ç ï¼š</p><img src="/images/Live-Variable-Analysis-and-Iterative-Solver/doSolveBackward.png" width=300><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doSolveBackward</span><span class="hljs-params">(CFG&lt;Node&gt; cfg, DataflowResult&lt;Node, Fact&gt; result)</span> &#123;<br>    <span class="hljs-comment">// TODO - finish me</span><br>    <span class="hljs-type">boolean</span> <span class="hljs-variable">changed</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span> (changed) &#123;<br>        changed = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span> (Node node : cfg.getNodes()) &#123;<br>            <span class="hljs-keyword">if</span> (cfg.isExit(node)) &#123;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (Node succNode : cfg.getSuccsOf(node)) &#123;<br>                analysis.meetInto(result.getInFact(succNode), result.getOutFact(node));<br>            &#125;<br>            <span class="hljs-keyword">if</span> (analysis.transferNode(node, result.getInFact(node), result.getOutFact(node))) &#123;<br>                changed = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>pascal.taie.analysis.graph.cfg.CFG</p><ul><li><p>é€šè¿‡ä¸€ä¸ª for å¾ªç¯éå†å…¶ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">CFG&lt;Node&gt; cfg = ...;<br>    <span class="hljs-keyword">for</span> (Node node : cfg) &#123;<br>        ...<br>    &#125;<br></code></pre></td></tr></table></figure></li><li><p>é€šè¿‡ CFG.getPredsOf(Node) å’Œ CFG.getSuccsOf(Node) è¿™ä¸¤ä¸ªæ–¹æ³•éå† CFG ä¸­èŠ‚ç‚¹çš„æ‰€æœ‰å‰é©±å’Œåç»§:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (Node succ : cfg.getSuccsOf(node)) &#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis Programming Assignments</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Tai-e</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Data Flow Analysis( Application )</title>
    <link href="/2024/02/20/Data-Flow-Analysis-I/"/>
    <url>/2024/02/20/Data-Flow-Analysis-I/</url>
    
    <content type="html"><![CDATA[<h1 id="Overview-of-Data-Flow-Analysis"><a href="#Overview-of-Data-Flow-Analysis" class="headerlink" title="Overview of Data Flow Analysis"></a>Overview of Data Flow Analysis</h1><h2 id="1-Data-Flow-Analysis"><a href="#1-Data-Flow-Analysis" class="headerlink" title="1 - Data Flow Analysis"></a>1 - Data Flow Analysis</h2><p>Data Flow Analysis -&gt; How Data Flows on CFG<br>How <em>application-specific</em> Data( Abstraction ) <em>Flows</em>( Over-approximation ) through the <strong>Nodes</strong>( BB ) and <strong>Edges</strong>( control flows ) of CFG?</p><h1 id="Preliminaries-of-Data-Flow-Analysis"><a href="#Preliminaries-of-Data-Flow-Analysis" class="headerlink" title="Preliminaries of Data Flow Analysis"></a>Preliminaries of Data Flow Analysis</h1><h2 id="1-Input-and-Output-States"><a href="#1-Input-and-Output-States" class="headerlink" title="1 - Input and Output States"></a>1 - Input and Output States</h2><ul><li>Each execution of an IR statement transforms an input state to a new output state.</li><li>The input( output ) state is associated with the program point before( after ) the statement.</li></ul><img src="/images/Data-Flow-Analysis-I/Input-Output.png" width=650><ul><li><p>In each data-flow analysis application, we associate with every program point a <strong>data-flow value</strong> that represents and <em>abstraction</em> of the set of all possible <strong>program states</strong> that can be abserved foe that point.</p><blockquote><p>åœ¨æ•°æ®æµåˆ†æåº”ç”¨ä¸­ï¼Œå°†æ¯ä¸€ä¸ª program point ä¸ä¸€ä¸ª è¡¨ç¤ºè¯¥ç‚¹æ‰€æœ‰è§‚æµ‹åˆ°çš„ program states çš„é›†åˆçš„æŠ½è±¡çš„æ•°æ®æµå€¼ï¼ˆdata-flow valueï¼‰ è”ç³»èµ·æ¥ã€‚</p></blockquote></li><li><p>Data-flow analysis is to <strong>find a solution</strong> to a set of <em><strong>safe-approximation-directed constraints</strong></em> on the IN[s]â€™s and OUT[s]â€™s, for <em>all statements s.</em></p><ul><li>constraints based on semantics of statements( transfer functions ).</li><li>constraints baesd on the flows of control.<blockquote><p>æ•°æ®æµåˆ†ææ˜¯å¯¹æ‰€æœ‰çš„è¯­å¥ï¼Œé€šè¿‡è§£æ safe-approximation çš„çº¦æŸè§„åˆ™ï¼Œå¾—åˆ°ä¸€ä¸ª solutionï¼ˆç»™æ¯ä¸ª program point ä¸€ä¸ª data-flow valueï¼‰ã€‚</p></blockquote></li></ul></li></ul><h2 id="2-Notations-for-Transfer-Functionâ€™s-Constraints"><a href="#2-Notations-for-Transfer-Functionâ€™s-Constraints" class="headerlink" title="2 - Notations for Transfer Functionâ€™s Constraints"></a>2 - Notations for Transfer Functionâ€™s Constraints</h2><p>Forward &amp; Backward</p><img src="/images/Data-Flow-Analysis-I/Notations-Function.png" width=480><h2 id="3-Notations-for-Control-Flowâ€™s-Constraints"><a href="#3-Notations-for-Control-Flowâ€™s-Constraints" class="headerlink" title="3 - Notations for Control Flowâ€™s Constraints"></a>3 - Notations for Control Flowâ€™s Constraints</h2><p>Control flow within a BB &amp; Control flow among BBs</p><img src="/images/Data-Flow-Analysis-I/Notations-ControlFlow.png" width=550><h1 id="Reaching-Definitions-Analysis-å®šä¹‰å¯è¾¾æ€§åˆ†æ"><a href="#Reaching-Definitions-Analysis-å®šä¹‰å¯è¾¾æ€§åˆ†æ" class="headerlink" title="Reaching Definitions Analysis( å®šä¹‰å¯è¾¾æ€§åˆ†æ )"></a><em>Reaching Definitions Analysis( å®šä¹‰å¯è¾¾æ€§åˆ†æ )</em></h1><h2 id="1-Reaching-Definitions"><a href="#1-Reaching-Definitions" class="headerlink" title="1 - Reaching Definitions"></a>1 - Reaching Definitions</h2><p>A definition d at program point p reaches a point q if there is a path from p to q such that d is not â€œkilledâ€ along that path.</p><img src="/images/Data-Flow-Analysis-I/Reaching-Definitions.png" width=350><blockquote><ul><li>A definition of a variable v is a statement that assigns a value to v.</li><li>Translated as: definition of variable v at program point p reaches point q if there is a path from p to q such that <em><strong>no new definition of v</strong></em> appears on that path.</li></ul></blockquote><h2 id="2-Understanding-Reaching-Definitions"><a href="#2-Understanding-Reaching-Definitions" class="headerlink" title="2 - Understanding Reaching Definitions"></a>2 - Understanding Reaching Definitions</h2><p>å®šä¹‰å¯è¾¾æ€§å¯ä»¥ç”¨äºä¾¦æµ‹å¯èƒ½çš„æœªå®šä¹‰çš„å˜é‡ã€‚</p><p>ç†è§£å®šä¹‰å¯è¾¾æ€§åˆ†æï¼š</p><ul><li><p>ç”¨ä¸€ä¸ªæ¯”ç‰¹è¡¨ç¤ºæŸä¸ªå˜é‡åœ¨æŸä¸€ç‚¹çš„å®šä¹‰å¯è¾¾æ€§ã€‚</p></li><li><p>ç”¨ä¸€ä¸ª n ç»´æ¯”ç‰¹å‘é‡è¡¨ç¤º n ä¸ªå˜é‡åœ¨æŸä¸€ç‚¹çš„å®šä¹‰å¯è¾¾æ€§ã€‚</p></li><li><p>Data Flow Values&#x2F;Facts</p><blockquote><p>Represented by bit vectors  </p><img src="/images/Data-Flow-Analysis-I/bit-vectors.png" width=350>  </blockquote></li><li><p>Transfer Function</p><blockquote><img src="/images/Data-Flow-Analysis-I/TF.png" width=350>  <blockquote><p>genBå°±æ˜¯Bé‡Œé¢çš„definition,killBå°±æ˜¯å…¶ä»–BBé‡Œé¢è¢«è¦†ç›–æ‰çš„<br>definitionã€‚</p></blockquote></blockquote></li><li><p>Control Flow</p><blockquote><img src="/images/Data-Flow-Analysis-I/CF.png" width=350></blockquote></li></ul><h2 id="3-Algorithm-of-Reaching-Definitions-Analysis"><a href="#3-Algorithm-of-Reaching-Definitions-Analysis" class="headerlink" title="3 - Algorithm of Reaching Definitions Analysis"></a>3 - Algorithm of Reaching Definitions Analysis</h2><img src="/images/Data-Flow-Analysis-I/Algorithm.png" width=500><blockquote><p>åœ¨ç®—æ³•æ¨¡æ¿ä¸­è¾¹ç•Œæ¡ä»¶ï¼ˆOUT[entry]ï¼‰å•ç‹¬åˆå§‹åŒ–ã€‚<br>å¯¹äº OUT[B]ï¼Œmay analysis ä¸€èˆ¬åˆå§‹åŒ–ä¸ºç©ºï¼›must analysis ä¸€èˆ¬åˆå§‹åŒ–ä¸º topã€‚</p></blockquote><h2 id="4-Why-this-iterative-algorithm-can-finally-stop"><a href="#4-Why-this-iterative-algorithm-can-finally-stop" class="headerlink" title="4 - Why this iterative algorithm can finally stop?"></a>4 - Why this iterative algorithm can finally stop?</h2><p>å¯¹äº Transfer Functionï¼ŒOUT[S] åªå— IN[S] çš„å½±å“ï¼Œå½“ä¸ªæ›´å¤šçš„ facts æµå…¥ IN[S] æ—¶ï¼Œè¦ä¹ˆè¢« kill è¦ä¹ˆå­˜æ´»ä¸‹æ¥å¹¶æ°¸è¿œè¢«ä¿ç•™ï¼Œæ•… OUT[S] <strong>æ°¸è¿œä¸ä¼šç¼©å‡ï¼ˆe.g. 0 &#x3D;&gt; 1 æˆ– 1 &#x3D;&gt; 1ï¼‰</strong>ï¼Œåˆå› ä¸ºå®šä¹‰çš„å˜é‡æ•°é‡æ˜¯æœ‰é™çš„ï¼Œæ•…è¯¥è¿­ä»£ä¸€å®šä¼šåœä¸‹æ¥ï¼ˆå®é™…ä¸Šåˆ°è¾¾äº†ä¸€ä¸ªä¸åŠ¨ç‚¹ï¼‰</p><blockquote><p>Reach a fixed point also related with monotonicity( å•è°ƒæ€§ )</p></blockquote><h1 id="Live-Variables-Analysis-æ´»è·ƒå˜é‡åˆ†æ"><a href="#Live-Variables-Analysis-æ´»è·ƒå˜é‡åˆ†æ" class="headerlink" title="Live Variables Analysis( æ´»è·ƒå˜é‡åˆ†æ )"></a><em>Live Variables Analysis( æ´»è·ƒå˜é‡åˆ†æ )</em></h1><h2 id="1-Live-Variables-Define"><a href="#1-Live-Variables-Define" class="headerlink" title="1 - Live Variables Define"></a>1 - Live Variables Define</h2><p>Live variables analysis tells whether the value of variable v at program point p could be used along some path in CFG starting at P. If so, v is live at p; otherwise, v is dead at p.</p><img src="/images/Data-Flow-Analysis-I/Live-Variables.png" width=500><blockquote><p>æ´»è·ƒå˜é‡ä¿¡æ¯å¯ç”¨äºå¯„å­˜å™¨åˆ†é…ï¼ˆå€¾å‘äºä½¿ç”¨å­˜æœ‰ dead value çš„å¯„å­˜å™¨æ¥å­˜æ–°æ•°æ®ï¼‰</p></blockquote><h2 id="2-Understanding-Live-Variables-Analysis"><a href="#2-Understanding-Live-Variables-Analysis" class="headerlink" title="2 - Understanding Live Variables Analysis"></a>2 - Understanding Live Variables Analysis</h2><p>ç†è§£æ´»è·ƒå˜é‡åˆ†æï¼š</p><ul><li>ç”¨ä¸€ä¸ªæ¯”ç‰¹è¡¨ç¤ºæŸä¸ªå˜é‡åœ¨æŸä¸€ç‚¹æ˜¯å¦æ´»è·ƒ</li><li>ç”¨ä¸€ä¸ª n ç»´æ¯”ç‰¹å‘é‡è¡¨ç¤º n ä¸ªå˜é‡åœ¨æŸä¸€ç‚¹æ˜¯å¦æ´»è·ƒ</li></ul><img src="/images/Data-Flow-Analysis-I/Unerstanding-Live-Variables.png" width=650><blockquote><p>æ³¨æ„useçš„å®šä¹‰ä¸ºï¼šåœ¨é‡å®šä¹‰ä¹‹å‰è¢«ä½¿ç”¨ã€‚</p></blockquote><h2 id="3-Alogrithm-of-Live-Variables-Analysis"><a href="#3-Alogrithm-of-Live-Variables-Analysis" class="headerlink" title="3 - Alogrithm of Live Variables Analysis"></a>3 - Alogrithm of Live Variables Analysis</h2><img src="/images/Data-Flow-Analysis-I/Algorithm-LV.png" width=650><blockquote><p>åœ¨ç®—æ³•æ¨¡æ¿ä¸­è¾¹ç•Œæ¡ä»¶ï¼ˆIN[entry]ï¼‰å•ç‹¬åˆå§‹åŒ–<br>å¯¹äº IN[B]ï¼Œmay analysis ä¸€èˆ¬åˆå§‹åŒ–ä¸ºç©ºï¼›must analysis ä¸€èˆ¬åˆå§‹åŒ–ä¸º top</p></blockquote><h1 id="Available-Expressions-Analysis-å¯ç”¨è¡¨è¾¾å¼åˆ†æ"><a href="#Available-Expressions-Analysis-å¯ç”¨è¡¨è¾¾å¼åˆ†æ" class="headerlink" title="Available Expressions Analysis( å¯ç”¨è¡¨è¾¾å¼åˆ†æ )"></a><em>Available Expressions Analysis( å¯ç”¨è¡¨è¾¾å¼åˆ†æ )</em></h1><h2 id="1-Available-Expressions-Define"><a href="#1-Available-Expressions-Define" class="headerlink" title="1 - Available Expressions Define"></a>1 - Available Expressions Define</h2><p>An expression <strong>x op y</strong> is available at program point p if (1) all paths from th entry to p must pass through the evaluation of x op y, and (2) after the last evaluation of x op y, there is no redefinition of x or y.</p><blockquote><p>ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå½¢å¦‚ x op yï¼Œåœ¨æŸä¸ª program point p æ˜¯å¯ç”¨çš„ï¼Œéœ€è¦æ»¡è¶³ï¼š</p><ul><li>ä» ENTRY åˆ° p çš„æ‰€æœ‰è·¯å¾„éƒ½å¿…é¡»è®¡ç®—è¿‡ x op y çš„å€¼</li><li>åœ¨è¿™äº›è·¯å¾„å„è‡ªæœ€åä¸€æ¬¡è®¡ç®—è¯¥è¡¨è¾¾å¼çš„å€¼ä¹‹åæ²¡æœ‰ä¿®æ”¹è¿‡ x æˆ– y çš„å€¼</li></ul></blockquote><h2 id="2-Understanding-Available-Expressions-Analysis"><a href="#2-Understanding-Available-Expressions-Analysis" class="headerlink" title="2 - Understanding Available Expressions Analysis"></a>2 - Understanding Available Expressions Analysis</h2><p>ç†è§£å¯ç”¨è¡¨è¾¾å¼åˆ†æï¼š</p><ul><li>ç”¨ä¸€ä¸ªæ¯”ç‰¹è¡¨ç¤ºæŸä¸ªè¡¨è¾¾å¼åœ¨æŸç‚¹æ˜¯å¦å¯ç”¨</li><li>ç”¨ä¸€ä¸ª n ç»´æ¯”ç‰¹å‘é‡è¡¨ç¤º n ä¸ªè¡¨è¾¾å¼åœ¨æŸç‚¹æ˜¯å¦å¯ç”¨</li><li>æ³¨æ„è¿™æ˜¯ä¸€ä¸ª must analysis</li></ul><img src="/images/Data-Flow-Analysis-I/Understanding-AE.png" width=650><blockquote><ul><li>ä¼ é€’å‡½æ•°å’Œæ§åˆ¶æµå‡½æ•°å¦‚æœæ‰€ç¤ºï¼Œç»è¿‡ä¸€ä¸ªBBå—çš„è¿ç®—ï¼Œå°†killæ‰åŒ…å«è¢«é‡å®šä¹‰è¿‡å˜é‡çš„è¡¨è¾¾å¼ï¼Œå¹¶åŠ å…¥æ–°çš„è¡¨è¾¾å¼ã€‚</li><li>ç”±äºæ˜¯muståˆ†æï¼Œæ‰€ä»¥æ§åˆ¶æµä½¿ç”¨meetäº¤é›†ã€‚</li><li>ï¼ˆmayåˆ†ææ˜¯åªè¦æœ‰æŸæ¡è·¯å¾„å¯ä»¥å°±è¡Œï¼Œmuståˆ†ææ˜¯æ‰€æœ‰è·¯å¾„éƒ½è¦æ»¡è¶³æ‰è¡Œã€‚mayä¸€èˆ¬ç”¨äºæ£€æµ‹æ˜¯å¦ä½¿ç”¨å¹¶åˆ é™¤æœªä½¿ç”¨ï¼Œmustç”¨äºæ›¿æ¢ï¼‰</li><li>muståˆ†ææ˜¯ä¸€ç§safeå¹¶ä¸”underçš„approximationï¼Œå³å…è®¸æ¼æŠ¥çš„åˆ†æã€‚çœ‹å³ä¸‹è§’ä¾‹å­ï¼ŒæŒ‰ç…§ç®—æ³•å…¶å®è¿™ä¸ªé”™äº†ï¼Œç¬¬äºŒä¸ªå—ç”±äºxè¢«é‡å®šä¹‰å¯¼è‡´OUTåº”è¯¥å˜ä¸ºç©ºé›†çš„ã€‚å¦‚æœç”±ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œxè¢«é‡å®šä¹‰ä¸ºå’ŒåŸæœ¬ä¸€æ ·çš„æ•°å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼ä»ç„¶æ˜¯å¯ä»¥æ›¿æ¢çš„ï¼Œä½†æ˜¯ä¸ºäº†safeï¼Œç®—æ³•è¿˜æ˜¯æŠŠä»–æ’é™¤äº†ï¼Œè¿™å°±æ˜¯ä¸€ç§æ¼æŠ¥ï¼Œæˆä¸ºunder-approximationã€‚</li></ul></blockquote><h2 id="3-Algorithm-of-Available-Expressions-Analysis"><a href="#3-Algorithm-of-Available-Expressions-Analysis" class="headerlink" title="3 - Algorithm of Available Expressions Analysis"></a>3 - Algorithm of Available Expressions Analysis</h2><img src="/images/Data-Flow-Analysis-I/Algorithmi-AE.png" width=650><h1 id="Analysis-Comparison"><a href="#Analysis-Comparison" class="headerlink" title="Analysis Comparison"></a>Analysis Comparison</h1><img src="/images/Data-Flow-Analysis-I/Analysis-Comparison.png" width=650><h1 id="The-X-You-Need-To-Understand-in-This-Lecture"><a href="#The-X-You-Need-To-Understand-in-This-Lecture" class="headerlink" title="The X You Need To Understand in This Lecture"></a>The X You Need To Understand in This Lecture</h1><ul><li>Understand the three data flow analyses:<blockquote><p>-reaching definitions<br>-live variables<br>-available expressions</p></blockquote></li><li>Can tell the differences and similarities of the three data flow analyses</li><li>Understand the iterative algorithm and cna tell why it is able to terminate</li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Intermediate Representation</title>
    <link href="/2024/02/19/Intermediate-Representation/"/>
    <url>/2024/02/19/Intermediate-Representation/</url>
    
    <content type="html"><![CDATA[<h1 id="Compilers-and-Static-Analyzers"><a href="#Compilers-and-Static-Analyzers" class="headerlink" title="Compilers and Static Analyzers"></a>Compilers and Static Analyzers</h1><h2 id="1-Compiler"><a href="#1-Compiler" class="headerlink" title="1 - Compiler"></a>1 - Compiler</h2><p>Source Code -&gt; Scanner( è¯æ³•åˆ†æ ) -&gt; <em>Tokens</em> -&gt; Parser( è¯­æ³•åˆ†æ ) -&gt; <em>AST</em> -&gt; Type Checker( ç±»å‹æ£€æŸ¥ ) -&gt; <em>Decorated AST</em> -&gt; Translatror -&gt; <em>IR</em> -&gt; Code Generator -&gt; Machine Code.</p><p>é™æ€åˆ†æéœ€è¦åœ¨ç¼–è¯‘å™¨å‰ç«¯ç”Ÿæˆçš„ IR çš„åŸºç¡€ä¸Šè¿›è¡Œä»£ç ä¼˜åŒ–ã€‚</p><h1 id="AST-vs-IR"><a href="#AST-vs-IR" class="headerlink" title="AST vs. IR"></a>AST vs. IR</h1><img src="/images/Intermediate-Representation/AST-IR.png" alt="AST vs. IR" width=550><h2 id="1-AST"><a href="#1-AST" class="headerlink" title="1 - AST"></a>1 - AST</h2><ul><li>high-level and closed to grammar structure.</li><li>usually language dependent.</li><li>suitable for fast type checking.</li><li>suitable for fast type checking.</li><li>lack of control flow information.</li></ul><h1 id="IR-Three-Address-Code-3AC"><a href="#IR-Three-Address-Code-3AC" class="headerlink" title="IR:Three-Address Code( 3AC )"></a>IR:Three-Address Code( 3AC )</h1><h2 id="1-Intermediate-Representation-IR-â€œ3-addressâ€-form"><a href="#1-Intermediate-Representation-IR-â€œ3-addressâ€-form" class="headerlink" title="1 - Intermediate Representation( IR â€œ3-addressâ€ form )"></a>1 - Intermediate Representation( IR â€œ3-addressâ€ form )</h2><ul><li>low-level and closed to machine code.</li><li>usually language independent.</li><li>compact and uniform.</li><li>contains control flow information.</li><li><strong>usually considered as the basis for static analysis</strong></li></ul><h2 id="2-Some-Common-3AC-Forms"><a href="#2-Some-Common-3AC-Forms" class="headerlink" title="2 - Some Common 3AC Forms"></a>2 - Some Common 3AC Forms</h2><ul><li>x &#x3D; y <em>bop</em> z</li><li>x &#x3D; <em>uop</em> y</li><li>x &#x3D; y</li><li>goto L</li><li>if x goto L</li><li>if x rop y goto L</li></ul><h1 id="3AC-in-Real-Static-Analyzer-Soot"><a href="#3AC-in-Real-Static-Analyzer-Soot" class="headerlink" title="3AC in Real Static Analyzer: Soot"></a>3AC in Real Static Analyzer: Soot</h1><h2 id="1-Some-real-world-complicated-forms"><a href="#1-Some-real-world-complicated-forms" class="headerlink" title="1 - Some real-world complicated forms"></a>1 - Some real-world complicated forms</h2><p>Java Src</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> nju.sa.examples;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Class3AC</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> <span class="hljs-variable">pi</span> <span class="hljs-operator">=</span> <span class="hljs-number">3.14</span>;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>3AC(jimple)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">nju</span>.sa.examples.Class3AC <span class="hljs-keyword">extends</span> <span class="hljs-title class_">java</span>.lang.Object<br>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">double</span> pi;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> &lt;init&gt;()<br>    &#123;<br>        nju.sa.examples.Class3AC r0;<br>        r0 := <span class="hljs-meta">@this</span>: nju.sa.examples.Class3AC;<br>        specialinvoke r0.&lt;java,lang.Object: <span class="hljs-keyword">void</span> &lt;init&gt;()&gt;();<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(java.lang.String[])</span><br>    &#123;<br>        java.lang.String[] r0;<br>        r0 := <span class="hljs-meta">@parameter0</span>: java.lang.string[];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> &lt;clinit&gt;()<br>    &#123;<br>        &lt;nju.sa.examples.Class3AC: <span class="hljs-type">double</span> pi&gt; = <span class="hljs-number">3.14</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="Static-Single-Assignment-SSA-â€“-Optional-material"><a href="#Static-Single-Assignment-SSA-â€“-Optional-material" class="headerlink" title="Static Single Assignment ( SSA ) â€“ Optional material"></a>Static Single Assignment ( SSA ) â€“ <em>Optional material</em></h1><p>All assignments in SSA are to variables with distinct names.</p><img src="/images/Intermediate-Representation/SSA.png" alt="SSA" width=400><p>Why not SSA?</p><ul><li>SSA may introduce too many variables and phi-functions.</li><li>May introduce inefficiency problem when translating to machine code (due to copy operations).</li></ul><h1 id="Basic-Blocks-BB"><a href="#Basic-Blocks-BB" class="headerlink" title="Basic Blocks( BB )"></a>Basic Blocks( BB )</h1><p>Define: Basic blocks( BB ) are maximal sequences of consecutive three-address instructions with the properties that</p><ul><li>It can be entered only at the beginning, i.e., the first instruction in the block.</li><li>It can be exited only at the end, i.e., the last instruction in the block.</li></ul><p><strong>How to build Basic Blocks?</strong></p><ul><li>Determine the leaders in P <blockquote><ul><li>The first instruciont in P is a leader.</li><li>Any target instruction of a conditional or unconditional jump is a leader.</li><li>Any instruction that immediately follows a conditional or unconditional jump is a leader.</li></ul></blockquote></li><li>Build BBs for P</li></ul><h1 id="Control-Flow-Graphs-CFG"><a href="#Control-Flow-Graphs-CFG" class="headerlink" title="Control Flow Graphs ( CFG )"></a>Control Flow Graphs ( CFG )</h1><p>How to build Control Flow Graph( CFG )</p><ul><li>The nodes of CFG are basic blocks.</li><li>There is an edge from block A to block B if and only if<blockquote><ul><li>There is a conditional or unconditional jump from the end of A to the beginning of B.</li><li>B immediately follows A in the original order of instructions <em>and A does not end in an unconditional jump</em>.</li></ul></blockquote></li><li>It is normal to replace the jumps to instruction labels by jumps to basic blocks.</li></ul><img src="/images/Intermediate-Representation/CFG.png" alt="Control Flow Graphs( CFG )" width=650><h1 id="The-X-You-Need-To-Understan-in-This-Lecture"><a href="#The-X-You-Need-To-Understan-in-This-Lecture" class="headerlink" title="The X You Need To Understan in This Lecture"></a>The X You Need To Understan in This Lecture</h1><ul><li>The relation between compilers and static analyhzers.</li><li>Understan 3AC and its common forms( in IR jimple ).</li><li>How to build basic blocks on top of IR.</li><li>How to construct control flow graphs on top of BBs?</li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Introduction</title>
    <link href="/2024/02/19/Introduction/"/>
    <url>/2024/02/19/Introduction/</url>
    
    <content type="html"><![CDATA[<h1 id="Static-Analysis"><a href="#Static-Analysis" class="headerlink" title="Static Analysis"></a>Static Analysis</h1><h2 id="1-Define"><a href="#1-Define" class="headerlink" title="1 - Define"></a>1 - Define</h2><p>é™æ€åˆ†æé€šè¿‡åˆ†æç¨‹åº P æ¥æ¨ç†å…¶è¡Œä¸ºï¼Œå¹¶åœ¨è¿è¡Œ P ä¹‹å‰ç¡®å®šå…¶æ˜¯å¦æ»¡è¶³æŸäº›å±æ€§ã€‚</p><blockquote><p>Static analysis analyzes a program P to reason about its behaviors and determines whether it satisfies some properties before running P.</p></blockquote><ul><li>Does P contain any private information leaks?</li><li>Does P dereference any null pointers?</li><li>Are all the cast operations in P safe?<br><em>- æ˜¯å¦å­˜åœ¨å¼ºåˆ¶ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Ÿ</em></li><li>Can v1 and v2 in P point to the same memory location?</li><li>Will certain assert staements in P fail?<br><em>- æ˜¯å¦å­˜åœ¨ fail çš„ assert è¯­å¥ï¼Ÿ</em></li><li>Is this piece of code in P dead(so that it could be eliminated?)<br><em>- æ˜¯å¦å­˜åœ¨å¯ä»¥åˆ é™¤çš„æ­»ä»£ç ï¼Ÿ</em></li></ul><h2 id="2-Riceâ€™s-Theorem-è±æ–¯å®šç†"><a href="#2-Riceâ€™s-Theorem-è±æ–¯å®šç†" class="headerlink" title="2 - Riceâ€™s Theorem(è±æ–¯å®šç†)"></a>2 - Riceâ€™s Theorem(è±æ–¯å®šç†)</h2><p>é€šä¿—çš„è®²ï¼šä¸å­˜åœ¨å®Œç¾çš„é™æ€åˆ†ææ–¹æ³•(Perfect static analysis)ã€‚</p><blockquote><p>Perfect static &#x3D; Sound &amp; Complete</p></blockquote><img src="/images/Introduction/Sound-Complete.png" width=500 /><p>çœŸæ­£çš„æœ‰ç”¨çš„é™æ€åˆ†æï¼šå¦¥åsoundnessæˆ–è€…completenessã€‚</p><blockquote><p>Useful static analysis &#x3D; Compromise soundness OR Compromise completeness</p><blockquote><p>Compromise soundness:äº§ç”Ÿæ¼æŠ¥( false negatives ) ( å¯ä»¥æ¥å— )<br>Compromise completeness:äº§ç”Ÿè¯¯æŠ¥( false positives ) ( ä¸å¸Œæœ›å‘ç”Ÿ )</p></blockquote></blockquote><h2 id="3-Static-Analysis-â€“Birdâ€™s-Eye-View-æ•´ä½“æ¦‚æ‹¬"><a href="#3-Static-Analysis-â€“Birdâ€™s-Eye-View-æ•´ä½“æ¦‚æ‹¬" class="headerlink" title="3 - Static Analysis â€“Birdâ€™s Eye View( æ•´ä½“æ¦‚æ‹¬ )"></a>3 - Static Analysis â€“Birdâ€™s Eye View( æ•´ä½“æ¦‚æ‹¬ )</h2><p>æ‰“ç ´åŠ¨æ€æ€ç»´ï¼Œä»é™æ€åˆ†æè§’åº¦åˆ†æä»£ç ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span>(input)<br>    x = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br>    x = <span class="hljs-number">0</span>;<br>-&gt; x = ?<br></code></pre></td></tr></table></figure><p>Sound: x &#x3D; 0, 1, 2, 3<br>Unsound: x &#x3D; -1, 0</p><img src="/images/Introduction/Two-Results.png" width=300 /><p><strong>Static Analysis</strong>: ensure( or get close to )<em>soundness</em>, while making good trade-offs between analysis <em>precision</em> and analysis <em>speed</em>.</p><blockquote><p>åœ¨ç¡®ä¿ soundness çš„å‰æä¸‹ï¼Œåœ¨åˆ†æçš„å‡†ç¡®åº¦å’Œé€Ÿåº¦ä¹‹é—´åšå‡ºæœ‰æ•ˆçš„å¹³è¡¡ã€‚</p></blockquote><h1 id="Two-Words-to-Conclude-Static-Analysis"><a href="#Two-Words-to-Conclude-Static-Analysis" class="headerlink" title="Two Words to Conclude Static Analysis"></a>Two Words to Conclude Static Analysis</h1><h2 id="1-Comprehension"><a href="#1-Comprehension" class="headerlink" title="1 - Comprehension"></a>1 - Comprehension</h2><p><strong>Abstraction + Over - approximation</strong></p><blockquote><p>Abstractionï¼ˆ æŠ½è±¡ ï¼‰ï¼šæŠŠå…·ä½“åŸŸçš„å€¼æ˜ å°„åˆ°æŠ½è±¡åŸŸçš„å€¼ã€‚</p></blockquote><blockquote><p>Over - approximationï¼ˆ è¿‘ä¼¼ ï¼‰ï¼šåœ¨æŠ½è±¡å±‚é¢å®šä¹‰è½¬ç§»å‡½æ•°ï¼›ç”±äºæ— æ³•æšä¸¾æ‰€æœ‰è·¯å¾„ï¼Œæ‰€ä»¥ä½¿ç”¨ flow merging å¤„ç† control flowã€‚</p></blockquote><h1 id="Focus-of-this-section"><a href="#Focus-of-this-section" class="headerlink" title="Focus of this section"></a>Focus of this section</h1><ul><li>é™æ€åˆ†æä¸ï¼ˆåŠ¨æ€ï¼‰æµ‹è¯•çš„åŒºåˆ«ï¼Ÿ</li><li>ç†è§£ soundness, completeness, false negatives å’Œ false positives çš„æ¦‚å¿µ</li><li>ä¸ºä»€ä¹ˆé™æ€åˆ†æéœ€è¦ä¿è¯ soundnessï¼Ÿ</li><li>æ€æ ·ç†è§£ abstraction å’Œ over-approximationï¼Ÿ</li></ul>]]></content>
    
    
    <categories>
      
      <category>Static Analysis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NJU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Learning Markdown~</title>
    <link href="/2024/02/19/Learning-Markdown/"/>
    <url>/2024/02/19/Learning-Markdown/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Markdonw"><a href="#ä¸€ã€Markdonw" class="headerlink" title="ä¸€ã€Markdonw"></a>ä¸€ã€Markdonw</h2><p>ä¸€æ¬¾è½»é‡çº§æ ‡è®°è¯­è¨€ã€‚</p><h2 id="äºŒã€è¯­æ³•"><a href="#äºŒã€è¯­æ³•" class="headerlink" title="äºŒã€è¯­æ³•"></a>äºŒã€è¯­æ³•</h2><h3 id="å¼•ç”¨ï¼š"><a href="#å¼•ç”¨ï¼š" class="headerlink" title="å¼•ç”¨ï¼š"></a>å¼•ç”¨ï¼š</h3><blockquote><p>è¿™æ˜¯ä¸€æ®µå¼•ç”¨ã€‚</p></blockquote><h3 id="åˆ—è¡¨ï¼š"><a href="#åˆ—è¡¨ï¼š" class="headerlink" title="åˆ—è¡¨ï¼š"></a>åˆ—è¡¨ï¼š</h3><h4 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h4><p>æŠŠå¤§è±¡æ”¾è¿›å†°ç®±ï¼š</p><ol><li>æ‰“å¼€å†°ç®±ã€‚</li><li>æŠŠå¤§è±¡å¡è¿›å†°ç®±ã€‚</li><li>å…³ä¸Šå†°ç®±ã€‚</li></ol><h4 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h4><ul><li>Markdown</li><li>is</li><li>very</li><li>nice</li></ul><h3 id="Todoï¼š"><a href="#Todoï¼š" class="headerlink" title="Todoï¼š"></a>Todoï¼š</h3><ul><li><input disabled="" type="checkbox"> sleep</li><li><input checked="" disabled="" type="checkbox"> eat</li></ul><h3 id="ä»£ç å—ï¼š"><a href="#ä»£ç å—ï¼š" class="headerlink" title="ä»£ç å—ï¼š"></a>ä»£ç å—ï¼š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">main</span>() &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;Hello World&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è¡¨æ ¼ï¼š"><a href="#è¡¨æ ¼ï¼š" class="headerlink" title="è¡¨æ ¼ï¼š"></a>è¡¨æ ¼ï¼š</h3><table><thead><tr><th align="left">å§“å</th><th align="right">å¹´é¾„</th><th align="center">æˆç»©</th></tr></thead><tbody><tr><td align="left">å¼ ä¸‰</td><td align="right">16</td><td align="center">89</td></tr><tr><td align="left">æå››</td><td align="right">17</td><td align="center">90</td></tr><tr><td align="left">ç‹äº”</td><td align="right">17</td><td align="center">95</td></tr></tbody></table><h3 id="é“¾æ¥ï¼š"><a href="#é“¾æ¥ï¼š" class="headerlink" title="é“¾æ¥ï¼š"></a>é“¾æ¥ï¼š</h3><p><a href="github.com" title="ä»£ç å¼€æºç½‘ç«™">GitHub</a><br><a href="github.com" title="ä»£ç å¼€æºç½‘ç«™">github</a></p><h3 id="å¼ºè°ƒï¼š"><a href="#å¼ºè°ƒï¼š" class="headerlink" title="å¼ºè°ƒï¼š"></a>å¼ºè°ƒï¼š</h3><p><em>æ–œä½“</em>,åŠ ç²—,<code>printf()</code>,:smile:,H<del>2</del>O,X^2^,&#x3D;&#x3D;é«˜äº®æ–‡å­—&#x3D;&#x3D;</p><h3 id="åµŒå…¥å¼ä»£ç ï¼š"><a href="#åµŒå…¥å¼ä»£ç ï¼š" class="headerlink" title="åµŒå…¥å¼ä»£ç ï¼š"></a>åµŒå…¥å¼ä»£ç ï¼š</h3><iframe src="//player.bilibili.com/player.html?aid=327623069&bvid=BV1JA411h7Gw&cid=171385214&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Markdown</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Guangyuan Bacchus Garden Lantern Festival</title>
    <link href="/2024/02/18/%E5%B9%BF%E5%85%83%E7%99%BE%E8%8D%89%E5%9B%AD%E7%81%AF%E4%BC%9A/"/>
    <url>/2024/02/18/%E5%B9%BF%E5%85%83%E7%99%BE%E8%8D%89%E5%9B%AD%E7%81%AF%E4%BC%9A/</url>
    
    <content type="html"><![CDATA[<img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/1.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/2.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/3.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/4.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/5.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/6.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/7.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/8.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/9.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/10.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/11.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/12.jpg"  /><img src="/images/å¹¿å…ƒç™¾è‰å›­ç¯ä¼š/13.jpg"  />]]></content>
    
    
    <categories>
      
      <category>Others</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Lantern Festival</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2024/02/15/hello-world/"/>
    <url>/2024/02/15/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
